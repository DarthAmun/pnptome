{"version":3,"sources":["services/SystemService.tsx","../node_modules/@rsuite/icons/legacy/Search.js","../node_modules/@rsuite/icons/lib/icons/legacy/Search.js","../node_modules/@rsuite/icon-font/lib/legacy/Search.js","../node_modules/rsuite/esm/Picker/SearchBar.js","../node_modules/rsuite/esm/SelectPicker/SelectPicker.js","../node_modules/rsuite/esm/SelectPicker/index.js","components/generic/details/SystemDetails.tsx"],"names":["findEntitySearchField","system","entityName","attrName","index","entities","findIndex","entity","Object","searchConfig","getEntitySearchConfig","findEntityTileField","tileConfig","getEntityTileConfig","findEntityDetailField","detailConfig","getEntityDetailConfig","getEntityAttributes","attributes","formatSystemName","name","replaceAll","toLowerCase","trim","generateSystem","Dexie","delete","version","db","schema","forEach","entityIndex","attr","fieldIndex","length","JSON","parse","makeSchema","console","log","stores","open","defineProperty","exports","value","enumerable","get","_Search","obj","require","__esModule","default","_interopRequireDefault","_createSvgIcon","_default","as","ariaLabel","category","displayName","module","_typeof","Symbol","iterator","constructor","prototype","React","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_interopRequireWildcard","WeakMap","_extends","assign","target","i","arguments","source","apply","this","Search","props","svgRef","createElement","width","height","viewBox","fill","ref","d","forwardRef","SearchBar","_props$as","Component","_props$classPrefix","classPrefix","children","className","placeholder","inputRef","onChange","rest","_objectWithoutPropertiesLoose","_useClassNames","useClassNames","withClassPrefix","merge","prefix","classes","handleChange","useCallback","event","role","propTypes","PropTypes","elementType","string","node","func","_templateObject","SelectPicker","data","valueKey","labelKey","valueProp","defaultValue","disabled","cleanable","placement","menuClassName","menuAutoWidth","menuMaxHeight","menuStyle","groupBy","overrideLocale","locale","toggleAs","style","searchable","disabledItemValues","virtualized","listProps","id","onGroupTitleClick","searchBy","onEntered","onExited","onClean","onSelect","onSearch","onClose","onOpen","sort","renderValue","renderMenu","renderMenuGroup","renderMenuItem","renderExtraFooter","triggerRef","useRef","targetRef","overlayRef","searchInputRef","useCustom","_useControlled","useControlled","setValue","_useFocusItemValue","useFocusItemValue","current","focusItemValue","setFocusItemValue","onFocusItem","onKeyDown","_useSearch","useSearch","callback","searchKeyword","filteredData","_filteredData$","updateFilteredData","setSearchKeyword","handleSearch","useEffect","_useState","useState","active","setActive","handleClose","_triggerRef$current","_triggerRef$current$c","close","handleSelect","item","_targetRef$current","focus","handleChangeValue","handleMenuPressEnter","focusItem","find","shallowEqual","handleItemSelect","handleClean","onPickerKeyDown","useToggleKeyDownEvent","toggle","onExit","onMenuKeyDown","onMenuPressEnter","handleExited","handleEntered","usePublicMethods","activeItem","hasValue","isNil","isFunction","selectedElement","_usePickerClassName","usePickerClassName","usedClassNamePropKeys","PickerToggleTrigger","pickerProps","pick","pickTriggerPropKeys","createChainedFunction","speaker","positionProps","speakerRef","left","top","styles","items","getDataGroupBy","menu","DropdownMenu","undefined","maxHeight","dropdownMenuItemClassPrefix","dropdownMenuItemAs","DropdownMenuItem","activeItemValues","group","isUndefined","_taggedTemplateLiteralLoose","noResultsText","PickerOverlay","mergeRefs","autoWidth","searchPlaceholder","PickerToggle","omit","concat","omitTriggerPropKeys","inputValue","defaultProps","appearance","listPickerPropTypes","any","oneOf","bool","number","SystemDetails","match","history","useHistory","setEntity","loading","setLoading","showOverwirteDialog","setOverwirteDialog","showDeleteDialog","setDeleteDialog","setIcons","setEntites","newIcons","val","push","label","params","reciveSystem","Header","Title","Body","Footer","onClick","updateSystem","deleteSystem","goBack","center","content","SystenWrapper","Addon","pic","rows","stringify","e","color","styled","div"],"mappings":"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","file":"static/js/10.ef4e6af4.chunk.js","sourcesContent":["import Dexie from \"dexie\";\nimport ConfigPart from \"../data/ConfigPart\";\nimport { System, SystemEntity } from \"../database/SystemReducer\";\n\nexport const findEntitySearchField = (\n  system: System,\n  entityName: string,\n  attrName: string\n): ConfigPart => {\n  const index = system.entities.findIndex(\n    (entity) => entity.entityName === entityName\n  );\n  return Object(system.entities[index].searchConfig)[attrName];\n};\n\nexport const getEntitySearchConfig = (system: System, entityName: string) => {\n  const index = system.entities.findIndex(\n    (entity) => entity.entityName === entityName\n  );\n  return system.entities[index].searchConfig;\n};\n\nexport const findEntityTileField = (\n  system: System,\n  entityName: string,\n  attrName: string\n): ConfigPart => {\n  const index = system.entities.findIndex(\n    (entity) => entity.entityName === entityName\n  );\n  return Object(system.entities[index].tileConfig)[attrName];\n};\n\nexport const getEntityTileConfig = (system: System, entityName: string) => {\n  const index = system.entities.findIndex(\n    (entity) => entity.entityName === entityName\n  );\n  return system.entities[index].tileConfig;\n};\n\nexport const findEntityDetailField = (\n  system: System,\n  entityName: string,\n  attrName: string\n): ConfigPart => {\n  const index = system.entities.findIndex(\n    (entity) => entity.entityName === entityName\n  );\n  return Object(system.entities[index].detailConfig)[attrName];\n};\n\nexport const getEntityDetailConfig = (system: System, entityName: string) => {\n  const index = system.entities.findIndex(\n    (entity) => entity.entityName === entityName\n  );\n  return system.entities[index].detailConfig;\n};\n\nexport const getEntityAttributes = (system: System, entityName: string) => {\n  const index = system.entities.findIndex(\n    (entity) => entity.entityName === entityName\n  );\n  return system.entities[index].attributes;\n}\n\nconst formatSystemName = (name: string) => {\n  return name.replaceAll(\" \", \"\").toLowerCase().trim();\n};\n\nconst makeSchema = (system: System) => {\n  let schema: string = \"\";\n  system.entities.forEach((entity: SystemEntity, entityIndex: number) => {\n    schema += `\"${entity.entityName.toLowerCase()}\": \"`;\n    entity.attributes.forEach((attr: string, fieldIndex: number) => {\n      if (attr.toLowerCase() === \"id\") schema += \"++id\";\n      else schema += `${attr.toLowerCase()}`;\n      if (entity.attributes.length - 1 !== fieldIndex) schema += \",\";\n    });\n    schema += `\"`;\n    if (system.entities.length - 1 !== entityIndex) schema += \",\";\n  });\n  return JSON.parse(`{${schema}}`);\n};\n\nexport const generateSystem = (system: System) => {\n  Dexie.delete(`${formatSystemName(system.name)}-${system.version}`);\n  const db = new Dexie(`${formatSystemName(system.name)}-${system.version}`);\n  const schema = makeSchema(system);\n  console.log(`${formatSystemName(system.name)}-${system.version} generated.`);\n  db.version(1).stores(schema);\n  db.open();\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _Search[\"default\"];\n  }\n});\n\nvar _Search = _interopRequireDefault(require(\"../lib/icons/legacy/Search\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"../../createSvgIcon\"));\n\nvar _Search = _interopRequireDefault(require(\"@rsuite/icon-font/lib/legacy/Search\"));\n\n// Generated by script, don't edit it please.\nvar Search = (0, _createSvgIcon[\"default\"])({\n  as: _Search[\"default\"],\n  ariaLabel: 'search',\n  category: 'legacy',\n  displayName: 'Search'\n});\nvar _default = Search;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction Search(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 14 14\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.293 10.707a.999.999 0 111.414-1.414l3 3a.999.999 0 11-1.414 1.414l-3-3z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 10a4 4 0 100-8 4 4 0 000 8zm0 2A6 6 0 116 0a6 6 0 010 12z\"\n  }));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(Search);\nvar _default = ForwardRef;\nexports[\"default\"] = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { useCallback } from 'react';\nimport get from 'lodash/get';\nimport PropTypes from 'prop-types';\nimport Search from '@rsuite/icons/legacy/Search';\nimport { useClassNames } from '../utils';\nvar SearchBar = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _props$as = props.as,\n      Component = _props$as === void 0 ? 'div' : _props$as,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'picker-search-bar' : _props$classPrefix,\n      value = props.value,\n      children = props.children,\n      className = props.className,\n      placeholder = props.placeholder,\n      inputRef = props.inputRef,\n      onChange = props.onChange,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"classPrefix\", \"value\", \"children\", \"className\", \"placeholder\", \"inputRef\", \"onChange\"]);\n\n  var _useClassNames = useClassNames(classPrefix),\n      withClassPrefix = _useClassNames.withClassPrefix,\n      merge = _useClassNames.merge,\n      prefix = _useClassNames.prefix;\n\n  var classes = merge(className, withClassPrefix());\n  var handleChange = useCallback(function (event) {\n    onChange === null || onChange === void 0 ? void 0 : onChange(get(event, 'target.value'), event);\n  }, [onChange]);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    role: \"searchbox\"\n  }, rest, {\n    ref: ref,\n    className: classes\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: prefix('input'),\n    value: value,\n    onChange: handleChange,\n    placeholder: placeholder,\n    ref: inputRef\n  }), /*#__PURE__*/React.createElement(Search, {\n    className: prefix('search-icon')\n  }), children);\n});\nSearchBar.displayName = 'SearchBar';\nSearchBar.propTypes = {\n  as: PropTypes.elementType,\n  classPrefix: PropTypes.string,\n  value: PropTypes.string,\n  placeholder: PropTypes.string,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  onChange: PropTypes.func\n};\nexport default SearchBar;","import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/esm/taggedTemplateLiteralLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\nvar _templateObject;\n\nimport React, { useRef, useState, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport pick from 'lodash/pick';\nimport isUndefined from 'lodash/isUndefined';\nimport isNil from 'lodash/isNil';\nimport isFunction from 'lodash/isFunction';\nimport omit from 'lodash/omit';\nimport { createChainedFunction, getDataGroupBy, useCustom, useClassNames, useControlled, mergeRefs, shallowEqual } from '../utils';\nimport { DropdownMenu, DropdownMenuItem, PickerToggle, PickerToggleTrigger, PickerOverlay, SearchBar, useFocusItemValue, usePickerClassName, useSearch, usePublicMethods, useToggleKeyDownEvent, pickTriggerPropKeys, omitTriggerPropKeys, listPickerPropTypes } from '../Picker';\nvar defaultProps = {\n  as: 'div',\n  appearance: 'default',\n  classPrefix: 'picker',\n  searchable: true,\n  cleanable: true,\n  data: [],\n  disabledItemValues: [],\n  valueKey: 'value',\n  labelKey: 'label',\n  placement: 'bottomStart',\n  menuAutoWidth: true,\n  menuMaxHeight: 320\n};\nvar SelectPicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var Component = props.as,\n      data = props.data,\n      valueKey = props.valueKey,\n      labelKey = props.labelKey,\n      valueProp = props.value,\n      classPrefix = props.classPrefix,\n      placeholder = props.placeholder,\n      defaultValue = props.defaultValue,\n      disabled = props.disabled,\n      cleanable = props.cleanable,\n      placement = props.placement,\n      menuClassName = props.menuClassName,\n      menuAutoWidth = props.menuAutoWidth,\n      menuMaxHeight = props.menuMaxHeight,\n      menuStyle = props.menuStyle,\n      groupBy = props.groupBy,\n      overrideLocale = props.locale,\n      toggleAs = props.toggleAs,\n      style = props.style,\n      searchable = props.searchable,\n      disabledItemValues = props.disabledItemValues,\n      virtualized = props.virtualized,\n      listProps = props.listProps,\n      id = props.id,\n      onGroupTitleClick = props.onGroupTitleClick,\n      searchBy = props.searchBy,\n      onEntered = props.onEntered,\n      onExited = props.onExited,\n      onClean = props.onClean,\n      onChange = props.onChange,\n      onSelect = props.onSelect,\n      onSearch = props.onSearch,\n      onClose = props.onClose,\n      onOpen = props.onOpen,\n      sort = props.sort,\n      renderValue = props.renderValue,\n      renderMenu = props.renderMenu,\n      renderMenuGroup = props.renderMenuGroup,\n      renderMenuItem = props.renderMenuItem,\n      renderExtraFooter = props.renderExtraFooter,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"data\", \"valueKey\", \"labelKey\", \"value\", \"classPrefix\", \"placeholder\", \"defaultValue\", \"disabled\", \"cleanable\", \"placement\", \"menuClassName\", \"menuAutoWidth\", \"menuMaxHeight\", \"menuStyle\", \"groupBy\", \"locale\", \"toggleAs\", \"style\", \"searchable\", \"disabledItemValues\", \"virtualized\", \"listProps\", \"id\", \"onGroupTitleClick\", \"searchBy\", \"onEntered\", \"onExited\", \"onClean\", \"onChange\", \"onSelect\", \"onSearch\", \"onClose\", \"onOpen\", \"sort\", \"renderValue\", \"renderMenu\", \"renderMenuGroup\", \"renderMenuItem\", \"renderExtraFooter\"]);\n\n  var triggerRef = useRef();\n  var targetRef = useRef();\n  var overlayRef = useRef();\n  var searchInputRef = useRef();\n\n  var _useCustom = useCustom('Picker', overrideLocale),\n      locale = _useCustom.locale;\n\n  var _useControlled = useControlled(valueProp, defaultValue),\n      value = _useControlled[0],\n      setValue = _useControlled[1]; // Used to hover the focus item  when trigger `onKeydown`\n\n\n  var _useFocusItemValue = useFocusItemValue(value, {\n    data: data,\n    valueKey: valueKey,\n    target: function target() {\n      return overlayRef.current;\n    }\n  }),\n      focusItemValue = _useFocusItemValue.focusItemValue,\n      setFocusItemValue = _useFocusItemValue.setFocusItemValue,\n      onFocusItem = _useFocusItemValue.onKeyDown; // Use search keywords to filter options.\n\n\n  var _useSearch = useSearch({\n    labelKey: labelKey,\n    data: data,\n    searchBy: searchBy,\n    callback: function callback(searchKeyword, filteredData, event) {\n      var _filteredData$;\n\n      // The first option after filtering is the focus.\n      setFocusItemValue(filteredData === null || filteredData === void 0 ? void 0 : (_filteredData$ = filteredData[0]) === null || _filteredData$ === void 0 ? void 0 : _filteredData$[valueKey]);\n      onSearch === null || onSearch === void 0 ? void 0 : onSearch(searchKeyword, event);\n    }\n  }),\n      searchKeyword = _useSearch.searchKeyword,\n      filteredData = _useSearch.filteredData,\n      updateFilteredData = _useSearch.updateFilteredData,\n      setSearchKeyword = _useSearch.setSearchKeyword,\n      handleSearch = _useSearch.handleSearch;\n\n  useEffect(function () {\n    updateFilteredData(data);\n  }, [data, updateFilteredData]); // Use component active state to support keyboard events.\n\n  var _useState = useState(false),\n      active = _useState[0],\n      setActive = _useState[1];\n\n  var handleClose = useCallback(function () {\n    var _triggerRef$current, _triggerRef$current$c;\n\n    (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : (_triggerRef$current$c = _triggerRef$current.close) === null || _triggerRef$current$c === void 0 ? void 0 : _triggerRef$current$c.call(_triggerRef$current);\n  }, []);\n  var handleSelect = useCallback(function (value, item, event) {\n    var _targetRef$current;\n\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(value, item, event);\n    (_targetRef$current = targetRef.current) === null || _targetRef$current === void 0 ? void 0 : _targetRef$current.focus();\n  }, [onSelect]);\n  var handleChangeValue = useCallback(function (value, event) {\n    onChange === null || onChange === void 0 ? void 0 : onChange(value, event);\n  }, [onChange]);\n  var handleMenuPressEnter = useCallback(function (event) {\n    if (!focusItemValue) {\n      return;\n    } // Find active `MenuItem` by `value`\n\n\n    var focusItem = data.find(function (item) {\n      return shallowEqual(item[valueKey], focusItemValue);\n    });\n    setValue(focusItemValue);\n    handleSelect(focusItemValue, focusItem, event);\n    handleChangeValue(focusItemValue, event);\n    handleClose();\n  }, [data, focusItemValue, handleChangeValue, handleClose, handleSelect, setValue, valueKey]);\n  var handleItemSelect = useCallback(function (value, item, event) {\n    setValue(value);\n    setFocusItemValue(value);\n    handleSelect(value, item, event);\n    handleChangeValue(value, event);\n    handleClose();\n  }, [setValue, setFocusItemValue, handleSelect, handleChangeValue, handleClose]);\n  var handleClean = useCallback(function (event) {\n    if (disabled || !cleanable) {\n      return;\n    }\n\n    setValue(null);\n    setFocusItemValue(value);\n    handleChangeValue(null, event);\n  }, [value, disabled, cleanable, setValue, handleChangeValue, setFocusItemValue]);\n  var onPickerKeyDown = useToggleKeyDownEvent(_extends({\n    toggle: !focusItemValue || !active,\n    triggerRef: triggerRef,\n    targetRef: targetRef,\n    overlayRef: overlayRef,\n    searchInputRef: searchInputRef,\n    active: active,\n    onExit: handleClean,\n    onMenuKeyDown: onFocusItem,\n    onMenuPressEnter: handleMenuPressEnter,\n    onClose: function onClose() {\n      setFocusItemValue(null);\n    }\n  }, rest));\n  var handleExited = useCallback(function () {\n    setSearchKeyword('');\n    setActive(false);\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  }, [onClose, setSearchKeyword]);\n  var handleEntered = useCallback(function () {\n    setActive(true);\n    setFocusItemValue(value);\n    onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n  }, [onOpen, setFocusItemValue, value]);\n  usePublicMethods(ref, {\n    triggerRef: triggerRef,\n    overlayRef: overlayRef,\n    targetRef: targetRef\n  }); // Find active `MenuItem` by `value`\n\n  var activeItem = data.find(function (item) {\n    return shallowEqual(item[valueKey], value);\n  });\n  /**\n   * 1.Have a value and the value is valid.\n   * 2.Regardless of whether the value is valid, as long as renderValue is set, it is judged to have a value.\n   */\n\n  var hasValue = !!activeItem || !isNil(value) && isFunction(renderValue);\n\n  var _useClassNames = useClassNames(classPrefix),\n      prefix = _useClassNames.prefix,\n      merge = _useClassNames.merge;\n\n  var selectedElement = placeholder;\n\n  if (activeItem !== null && activeItem !== void 0 && activeItem[labelKey]) {\n    selectedElement = activeItem[labelKey];\n  }\n\n  if (!isNil(value) && isFunction(renderValue)) {\n    selectedElement = renderValue(value, activeItem, selectedElement); // If renderValue returns null or undefined, hasValue is false.\n\n    if (isNil(selectedElement)) {\n      hasValue = false;\n    }\n  }\n\n  var renderDropdownMenu = function renderDropdownMenu(positionProps, speakerRef) {\n    var left = positionProps.left,\n        top = positionProps.top,\n        className = positionProps.className;\n    var classes = merge(className, menuClassName, prefix('select-menu'));\n\n    var styles = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n\n    var items = filteredData; // Create a tree structure data when set `groupBy`\n\n    if (groupBy) {\n      items = getDataGroupBy(items, groupBy, sort);\n    } else if (typeof sort === 'function') {\n      items = items.sort(sort(false));\n    }\n\n    var menu = items.length ? /*#__PURE__*/React.createElement(DropdownMenu, {\n      id: id ? id + \"-listbox\" : undefined,\n      listProps: listProps,\n      disabledItemValues: disabledItemValues,\n      valueKey: valueKey,\n      labelKey: labelKey,\n      renderMenuGroup: renderMenuGroup,\n      renderMenuItem: renderMenuItem,\n      maxHeight: menuMaxHeight,\n      classPrefix: 'picker-select-menu',\n      dropdownMenuItemClassPrefix: 'picker-select-menu-item',\n      dropdownMenuItemAs: DropdownMenuItem,\n      activeItemValues: [value],\n      focusItemValue: focusItemValue,\n      data: items,\n      group: !isUndefined(groupBy),\n      onSelect: handleItemSelect,\n      onGroupTitleClick: onGroupTitleClick,\n      virtualized: virtualized\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"none\"])))\n    }, locale === null || locale === void 0 ? void 0 : locale.noResultsText);\n    return /*#__PURE__*/React.createElement(PickerOverlay, {\n      ref: mergeRefs(overlayRef, speakerRef),\n      autoWidth: menuAutoWidth,\n      className: classes,\n      style: styles,\n      onKeyDown: onPickerKeyDown,\n      target: triggerRef\n    }, searchable && /*#__PURE__*/React.createElement(SearchBar, {\n      placeholder: locale === null || locale === void 0 ? void 0 : locale.searchPlaceholder,\n      onChange: handleSearch,\n      value: searchKeyword,\n      inputRef: searchInputRef\n    }), renderMenu ? renderMenu(menu) : menu, renderExtraFooter === null || renderExtraFooter === void 0 ? void 0 : renderExtraFooter());\n  };\n\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n    hasValue: hasValue,\n    name: 'select'\n  })),\n      classes = _usePickerClassName[0],\n      usedClassNamePropKeys = _usePickerClassName[1];\n\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    pickerProps: pick(props, pickTriggerPropKeys),\n    ref: triggerRef,\n    placement: placement,\n    onEntered: createChainedFunction(handleEntered, onEntered),\n    onExited: createChainedFunction(handleExited, onExited),\n    speaker: renderDropdownMenu\n  }, /*#__PURE__*/React.createElement(Component, {\n    className: classes,\n    style: style\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys)), {\n    id: id,\n    ref: targetRef,\n    onClean: createChainedFunction(handleClean, onClean),\n    onKeyDown: onPickerKeyDown,\n    as: toggleAs,\n    disabled: disabled,\n    cleanable: cleanable && !disabled,\n    hasValue: hasValue,\n    inputValue: value,\n    active: active,\n    placement: placement\n  }), selectedElement || (locale === null || locale === void 0 ? void 0 : locale.placeholder))));\n});\nSelectPicker.displayName = 'SelectPicker';\nSelectPicker.defaultProps = defaultProps;\nSelectPicker.propTypes = _extends({}, listPickerPropTypes, {\n  locale: PropTypes.any,\n  appearance: PropTypes.oneOf(['default', 'subtle']),\n  menuAutoWidth: PropTypes.bool,\n  menuMaxHeight: PropTypes.number,\n  renderMenu: PropTypes.func,\n  renderMenuItem: PropTypes.func,\n  renderMenuGroup: PropTypes.func,\n  onSelect: PropTypes.func,\n  onGroupTitleClick: PropTypes.func,\n  onSearch: PropTypes.func,\n\n  /**\n   * group by key in `data`\n   */\n  groupBy: PropTypes.any,\n  sort: PropTypes.func,\n  searchable: PropTypes.bool,\n  virtualized: PropTypes.bool,\n  searchBy: PropTypes.func\n});\nexport default SelectPicker;","import SelectPicker from './SelectPicker';\nexport default SelectPicker;","import { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  Button,\n  Input,\n  InputGroup,\n  Loader,\n  Modal,\n  Panel,\n  PanelGroup,\n  SelectPicker,\n  TagPicker,\n} from \"rsuite\";\nimport styled from \"styled-components\";\nimport ConfigPart from \"../../../data/ConfigPart\";\nimport { selectDBName, System } from \"../../../database/SystemReducer\";\nimport {\n  deleteSystem,\n  reciveSystem,\n  updateSystem,\n} from \"../../../services/DatabaseService\";\nimport { IconSet } from \"../../../services/IconService\";\nimport { generateSystem } from \"../../../services/SystemService\";\n\ninterface $EntityProps {\n  match: any;\n}\n\nconst SystemDetails = ({ match }: $EntityProps) => {\n  let history = useHistory();\n  const [entity, setEntity] = useState<System>();\n  const [loading, setLoading] = useState<boolean>(true);\n  const [showOverwirteDialog, setOverwirteDialog] = useState<boolean>(false);\n  const [showDeleteDialog, setDeleteDialog] = useState<boolean>(false);\n\n  const [icons, setIcons] = useState<\n    {\n      label: string;\n      value: string;\n    }[]\n  >([]);\n  const [entities, setEntites] = useState<\n    {\n      label: string;\n      value: string;\n    }[]\n  >([]);\n\n  useEffect(() => {\n    let newIcons: {\n      label: string;\n      value: string;\n    }[] = [];\n    let newEntites: {\n      label: string;\n      value: string;\n    }[] = [];\n    entity?.entities.forEach((val) => {\n      newIcons.push({\n        label: val.entityName,\n        value: val.entityName,\n      });\n    });\n    setIcons(newIcons);\n    setEntites(newEntites);\n  }, []);\n\n  useEffect(() => {\n    if (match !== undefined && entity === undefined) {\n      const id: string | undefined = match.params.id;\n      if (id)\n        reciveSystem(\"PnPTomeDB\", +id, (entity: System) => {\n          setEntity(entity as System);\n          setLoading(false);\n        });\n    }\n  }, [match, entity]);\n\n  const updateTrigger = () => {\n    if (entity) {\n      updateSystem(entity);\n      generateSystem(entity);\n      setOverwirteDialog(false);\n    }\n  };\n\n  const deleteTrigger = () => {\n    if (entity) {\n      deleteSystem(entity);\n      setDeleteDialog(false);\n      history.goBack();\n    }\n  };\n\n  const SearchConfigTypes = [\n    {\n      label: \"SearchableString\",\n      value: \"SearchableString\",\n    },\n    {\n      label: \"CreatableSetString\",\n      value: \"CreatableSetString\",\n    },\n    {\n      label: \"CompletableString\",\n      value: \"CompletableString\",\n    },\n    {\n      label: \"FoundString\",\n      value: \"FoundString\",\n    },\n    {\n      label: \"CreatableSetString\",\n      value: \"CreatableSetString\",\n    },\n    {\n      label: \"CreatableSetNumber\",\n      value: \"CreatableSetNumber\",\n    },\n    {\n      label: \"SearchableText\",\n      value: \"SearchableText\",\n    },\n    {\n      label: \"SetEntities\",\n      value: \"SetEntities\",\n    },\n    {\n      label: \"SetEntity\",\n      value: \"SetEntity\",\n    },\n    {\n      label: \"SwitchBoolean\",\n      value: \"SwitchBoolean\",\n    },\n  ];\n  const searchOptions = (val: ConfigPart) => {\n    switch (true) {\n      case val.type === \"FoundString\":\n        return (\n          <>\n            <SelectPicker\n              data={entities}\n              value={val.found?.field}\n              onChange={(val: any) => changeEntity(val)}\n              placeholder={\"Detail Representation\"}\n            />\n          </>\n        );\n      case val.type === \"SetEntity\":\n        return (\n          <>\n            <SelectPicker\n              data={entities}\n              value={val.linkToAttribute}\n              onChange={(val: any) => changeEntity(val)}\n              placeholder={\"Detail Representation\"}\n            />\n          </>\n        );\n    }\n  };\n\n  const TileConfigTypes = [\n    {\n      label: \"ColoredFlag\",\n      value: \"ColoredFlag\",\n    },\n    {\n      label: \"FoundFlag\",\n      value: \"FoundFlag\",\n    },\n    {\n      label: \"BooleanFlag\",\n      value: \"BooleanFlag\",\n    },\n    {\n      label: \"RoundNumberFlag\",\n      value: \"RoundNumberFlag\",\n    },\n    {\n      label: \"ImageName\",\n      value: \"ImageName\",\n    },\n    {\n      label: \"SmallProp\",\n      value: \"SmallProp\",\n    },\n    {\n      label: \"SmallSetProp\",\n      value: \"SmallSetProp\",\n    },\n    {\n      label: \"WideProp\",\n      value: \"WideProp\",\n    },\n    {\n      label: \"WideSetProp\",\n      value: \"WideSetProp\",\n    },\n    {\n      label: \"SetEntity\",\n      value: \"SetEntity\",\n    },\n  ];\n\n  const DetailConfigTypes = [\n    {\n      label: \"CreatableSetString\",\n      value: \"CreatableSetString\",\n    },\n    {\n      label: \"CreatableSetNumber\",\n      value: \"CreatableSetNumber\",\n    },\n    {\n      label: \"FoundFlag\",\n      value: \"FoundFlag\",\n    },\n    {\n      label: \"SwitchBoolean\",\n      value: \"SwitchBoolean\",\n    },\n    {\n      label: \"ImageName\",\n      value: \"ImageName\",\n    },\n    {\n      label: \"CompletableString\",\n      value: \"CompletableString\",\n    },\n    {\n      label: \"CreatableSetString\",\n      value: \"CreatableSetString\",\n    },\n    {\n      label: \"SearchableString\",\n      value: \"SearchableString\",\n    },\n    {\n      label: \"SearchableText\",\n      value: \"SearchableText\",\n    },\n    {\n      label: \"SetEntities\",\n      value: \"SetEntities\",\n    },\n    {\n      label: \"SetEntity\",\n      value: \"SetEntity\",\n    },\n    {\n      label: \"ViewEntity\",\n      value: \"ViewEntity\",\n    },\n  ];\n\n  const changeEntity = (val: any[]) => {};\n\n  return (\n    <>\n      <Modal\n        open={showOverwirteDialog}\n        onClose={() => setOverwirteDialog(false)}\n      >\n        <Modal.Header>\n          <Modal.Title>Overwrite</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          All the data saved for this system will be lost.\n          <br />\n          Are you sure you want to overwrite '{entity?.name} - v\n          {entity?.version}'?\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={() => updateTrigger()} appearance=\"primary\">\n            Yes, overwirte!\n          </Button>\n          <Button onClick={() => setOverwirteDialog(false)} appearance=\"subtle\">\n            Cancel\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      <Modal open={showDeleteDialog} onClose={() => setDeleteDialog(false)}>\n        <Modal.Header>\n          <Modal.Title>Delete</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          All the data saved for this system will be lost.\n          <br />\n          Are you sure you want to delete '{entity?.name} - v{entity?.version}'?\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={() => deleteTrigger()} appearance=\"primary\">\n            Yes, delete!\n          </Button>\n          <Button onClick={() => setDeleteDialog(false)} appearance=\"subtle\">\n            Cancel\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      {loading && <Loader center content=\"Loading...\" />}\n      {!loading && entity !== undefined && (\n        <SystenWrapper>\n          <InputGroup>\n            <InputGroup.Addon>Name</InputGroup.Addon>\n            <Input\n              value={entity.name}\n              onChange={(val: any) => setEntity({ ...entity, name: val })}\n            />\n          </InputGroup>\n          <InputGroup>\n            <InputGroup.Addon>Version</InputGroup.Addon>\n            <Input\n              value={entity.version}\n              onChange={(val: any) => setEntity({ ...entity, version: val })}\n            />\n          </InputGroup>\n          <InputGroup>\n            <InputGroup.Addon>Pic</InputGroup.Addon>\n            <Input\n              value={entity.pic}\n              onChange={(val: any) => setEntity({ ...entity, pic: val })}\n            />\n          </InputGroup>\n          {/* <PanelGroup\n            accordion\n            defaultActiveKey={0}\n            bordered\n            style={{ width: \"100%\" }}\n          >\n            {entity.entities.map((systemEntity, index) => {\n              return (\n                <Panel\n                  key={index}\n                  eventKey={index}\n                  id={`panel${index}`}\n                  header={systemEntity.entityName}\n                  defaultExpanded={index === 0}\n                >\n                  <Entity>\n                    <InputGroup>\n                      <InputGroup.Addon>Name</InputGroup.Addon>\n                      <Input\n                        value={systemEntity.entityName}\n                        onChange={(val: any) => changeEntity(val)}\n                      />\n                    </InputGroup>\n                    <SelectPicker\n                      data={icons}\n                      value={systemEntity.icon}\n                      onChange={(val: any) => changeEntity(val)}\n                    />\n                    <PanelGroup accordion defaultActiveKey={0} bordered>\n                      {systemEntity.attributes.map((attr, attrIndex) => {\n                        return (\n                          <Panel\n                            key={index + \"\" + attrIndex}\n                            eventKey={attrIndex}\n                            id={`panel${index + \"\" + attrIndex}`}\n                            header={attr}\n                            defaultExpanded={attrIndex === 0}\n                          >\n                            <PanelGroup accordion defaultActiveKey={0} bordered>\n                              <Panel\n                                eventKey={0}\n                                id={`searchpanel${index + \"\" + attrIndex}`}\n                                header={\"Searcbar Representation\"}\n                                defaultExpanded\n                              >\n                                <SelectPicker\n                                  data={SearchConfigTypes}\n                                  value={\n                                    systemEntity.searchConfig[attr]?.type ||\n                                    undefined\n                                  }\n                                  onChange={(val: any) => changeEntity(val)}\n                                  placeholder={\"Search Representation\"}\n                                />\n                                {systemEntity.searchConfig[attr]?.type && (\n                                  <>\n                                    {searchOptions(\n                                      systemEntity.searchConfig[attr]\n                                    )}\n                                  </>\n                                )}\n                              </Panel>\n                              <Panel\n                                eventKey={1}\n                                id={`searchpanel${index + \"\" + attrIndex}`}\n                                header={\"Overview Tile Representation\"}\n                              >\n                                <SelectPicker\n                                  data={TileConfigTypes}\n                                  value={\n                                    systemEntity.tileConfig[attr]?.type ||\n                                    undefined\n                                  }\n                                  onChange={(val: any) => changeEntity(val)}\n                                  placeholder={\"Overview Representation\"}\n                                />\n                              </Panel>\n                              <Panel\n                                eventKey={2}\n                                id={`searchpanel${index + \"\" + attrIndex}`}\n                                header={\"Detailsview Representation\"}\n                              >\n                                <SelectPicker\n                                  data={DetailConfigTypes}\n                                  value={\n                                    systemEntity.detailConfig[attr]?.type ||\n                                    undefined\n                                  }\n                                  onChange={(val: any) => changeEntity(val)}\n                                  placeholder={\"Detail Representation\"}\n                                />\n                              </Panel>\n                            </PanelGroup>\n                          </Panel>\n                        );\n                      })}\n                    </PanelGroup>\n                  </Entity>\n                </Panel>\n              );\n            })}\n          </PanelGroup> */}\n          <Input\n            as=\"textarea\"\n            rows={30}\n            placeholder=\"Textarea\"\n            value={JSON.stringify(entity.entities, null, 2)}\n            onChange={(val: any) =>\n              setEntity({ ...entity, entities: JSON.parse(val) })\n            }\n          />\n          <Button onClick={(e) => setOverwirteDialog(true)}>Overwirte</Button>\n          <Button\n            color=\"red\"\n            appearance=\"primary\"\n            onClick={(e) => setDeleteDialog(true)}\n          >\n            Delete\n          </Button>\n        </SystenWrapper>\n      )}\n    </>\n  );\n};\n\nexport default SystemDetails;\n\nconst SystenWrapper = styled.div`\n  display: flex;\n  gap: 5px;\n  flex-wrap: wrap;\n`;\n\nconst Entity = styled.div`\n  display: flex;\n  gap: 5px;\n  flex-wrap: nowrap;\n  flex-direction: column;\n`;\n\nconst Attr = styled.div`\n  display: flex;\n  gap: 5px;\n`;\n"],"sourceRoot":""}