(this.webpackJsonppnptome=this.webpackJsonppnptome||[]).push([[9],{561:function(e,t,n){"use strict";n.r(t);var c,a,r,i,l,s,u=n(11),o=n(26),j=n(1),f=n(8),b=n(41),O=n(550),p=n(82),h=n(573),d=n(408),v=n(417),g=n(566),m=n(91),x=n(15),y=n(12),S=function(e,t){var n="";return e.search.substring(1).split("&").forEach((function(e){e.includes(t)&&(n=e.replace("".concat(t,"="),""))})),unescape(n)},N=n(435),F=n(32),E=n(413),C=n(415),w=n(574),k=n(412),J=n(410),B=n(3),P=function(e){var t=e.type,n=e.entityName,c=e.applyFilter,a=e.removeFilterChange,r=Object(y.g)(),i=Object(j.useState)(""),l=Object(o.a)(i,2),s=l[0],u=l[1],f=Object(j.useState)(),b=Object(o.a)(f,2),O=b[0],p=b[1];return Object(j.useEffect)((function(){var e=S(r,"filter"),n=unescape(e);""!==n&&JSON.parse(n).forEach((function(e){e.fieldName===t&&(u(e.value),e.sort>0&&p(e.sort))}))}),[]),Object(j.useEffect)((function(){""!==s?c({fieldName:t,value:s,sort:void 0!==O?O:0},t):a(t)}),[s,O]),Object(B.jsx)(C.a,{trigger:"focus",placement:"top",speaker:Object(B.jsxs)(w.a,{children:["Part of the ",n,"'s ",t]}),children:Object(B.jsxs)(k.a,{style:{width:"300px"},children:[Object(B.jsx)(k.a.Addon,{children:t}),Object(B.jsx)(J.a,{value:s,onChange:function(e){return u(e)}}),Object(B.jsx)(k.a.Button,{onClick:function(e){e.stopPropagation(),p(void 0!==O?(O+1)%3:1)},children:void 0!==O?Object(B.jsxs)(B.Fragment,{children:[0===O?Object(B.jsx)(B.Fragment,{children:"-"}):Object(B.jsx)(B.Fragment,{}),1===O?Object(B.jsx)(x.q,{}):Object(B.jsx)(B.Fragment,{}),2===O?Object(B.jsx)(x.r,{}):Object(B.jsx)(B.Fragment,{})]}):Object(B.jsx)(B.Fragment,{children:"-"})})]})})},A=n(18),z=n(520),T=n(47),L=function(e){var t=e.type,n=e.entityName,c=e.applyFilter,a=e.removeFilterChange,r=Object(y.g)(),i=Object(A.c)(T.b),l=Object(j.useState)([]),s=Object(o.a)(l,2),u=s[0],f=s[1],b=Object(j.useState)([]),O=Object(o.a)(b,2),p=O[0],h=O[1];return Object(j.useEffect)((function(){var e=S(r,"filter"),n=unescape(e);""!==n&&JSON.parse(n).forEach((function(e){e.fieldName===t&&f(e.value)}))}),[]),Object(j.useEffect)((function(){u.length>0?c({fieldName:t,value:u,sort:0},t):a(t)}),[u]),Object(j.useEffect)((function(){Object(m.k)(i,n,t,(function(e){h(e.map((function(e){return{value:e,label:e}})))}))}),[t,n]),Object(B.jsx)(z.a,{placeholder:"Select ".concat(t),data:p,trigger:"Enter",value:u,onChange:f,onClean:function(){return f([])},style:{width:"300px"}})},q=function(e){var t=e.entities,n=e.type,c=e.applyFilter,a=e.removeFilterChange,r=Object(y.g)(),i=Object(j.useState)([]),l=Object(o.a)(i,2),s=l[0],u=l[1],f=Object(j.useState)([]),b=Object(o.a)(f,2),O=b[0],p=b[1];return Object(j.useEffect)((function(){var e=S(r,"filter"),t=unescape(e);""!==t&&JSON.parse(t).forEach((function(e){e.fieldName===n&&u(e.value)}))}),[]),Object(j.useEffect)((function(){s.length>0?c({fieldName:n,value:s,sort:0},n):a(n)}),[s]),Object(j.useEffect)((function(){var e=Object(F.a)(Array.from(new Set(t.map((function(e){return e[n]}))))).sort();p(e.map((function(e){return{value:e,label:e}})))}),[t,n]),Object(B.jsx)(z.a,{placeholder:"Select ".concat(n),data:O,trigger:"Enter",value:s,onChange:u,onClean:function(){return u([])},style:{width:"300px"}})},M=n(567),R=function(e){var t=e.entities,n=e.type,c=e.entityName,a=e.applyFilter,r=e.removeFilterChange,i=Object(y.g)(),l=Object(j.useState)(""),s=Object(o.a)(l,2),u=s[0],f=s[1],b=Object(j.useState)([]),O=Object(o.a)(b,2),p=O[0],h=O[1],d=Object(j.useState)(),v=Object(o.a)(d,2),g=v[0],m=v[1];return Object(j.useEffect)((function(){var e=S(i,"filter"),t=unescape(e);""!==t&&JSON.parse(t).forEach((function(e){e.fieldName===n&&(f(e.value),e.sort>0&&m(e.sort))}))}),[]),Object(j.useEffect)((function(){""!==u?a({fieldName:n,value:u,sort:void 0!==g?g:0},n):r(n)}),[u,g]),Object(j.useEffect)((function(){var e=Object(F.a)(Array.from(new Set(t.map((function(e){return e[n]}))))).sort();h(e.map((function(e){return{value:e,label:e}})))}),[t,n]),Object(B.jsx)(C.a,{trigger:"focus",placement:"top",speaker:Object(B.jsxs)(w.a,{children:["Part of the ",c,"'s ",n]}),children:Object(B.jsxs)(k.a,{style:{width:"300px"},children:[Object(B.jsx)(k.a.Addon,{children:n}),Object(B.jsx)(M.a,{placeholder:"Select ".concat(n),data:p,value:u,onChange:f,style:{width:"min-content",minWidth:"150px"}}),Object(B.jsx)(k.a.Button,{onClick:function(e){e.stopPropagation(),m(void 0!==g?(g+1)%3:1)},children:void 0!==g?Object(B.jsxs)(B.Fragment,{children:[0===g?Object(B.jsx)(B.Fragment,{children:"-"}):Object(B.jsx)(B.Fragment,{}),1===g?Object(B.jsx)(x.q,{}):Object(B.jsx)(B.Fragment,{}),2===g?Object(B.jsx)(x.r,{}):Object(B.jsx)(B.Fragment,{})]}):Object(B.jsx)(B.Fragment,{children:"-"})})]})})},H=n(549),W=function(e){var t=e.type,n=e.applyFilter,c=e.removeFilterChange,a=Object(y.g)(),r=Object(j.useState)(!1),i=Object(o.a)(r,2),l=i[0],s=i[1];return Object(j.useEffect)((function(){var e=S(a,"filter"),n=unescape(e);""!==n&&JSON.parse(n).forEach((function(e){e.fieldName===t&&s(e.value)}))}),[]),Object(j.useEffect)((function(){l?n({fieldName:t,value:l,sort:0},t):c(t)}),[l]),Object(B.jsx)(D,{children:Object(B.jsx)(H.a,{checked:l,onCheckboxClick:function(){return s((function(e){return!e}))},children:t})})},D=f.b.div(c||(c=Object(u.a)(["\n  width: min-content;\n"]))),G=function(e){var t=e.entities,n=e.type,c=e.applyFilter,a=e.removeFilterChange,r=Object(y.g)(),i=Object(j.useState)([]),l=Object(o.a)(i,2),s=l[0],u=l[1],f=Object(j.useState)([]),b=Object(o.a)(f,2),O=b[0],p=b[1];Object(j.useEffect)((function(){var e=S(r,"filter"),t=unescape(e);""!==t&&JSON.parse(t).forEach((function(e){e.fieldName===n&&u(e.value)}))}),[]),Object(j.useEffect)((function(){s.length>0?c({fieldName:n,value:s,sort:0},n):a(n)}),[s]),Object(j.useEffect)((function(){var e=Object(F.a)(Array.from(new Set(t.map((function(e){return+e[n]}))))).sort((function(e,t){return e-t}));p(e.map((function(e){return{value:e,label:String(e)}})))}),[t,n]);return Object(B.jsx)(z.a,{placeholder:"Select ".concat(n),data:O,trigger:"Enter",value:s,onClean:function(){return u([])},onChange:function(e){return function(e){u(e?e.map((function(e){return+e})):[])}(e)},style:{width:"300px"}})},I=n(466),K=function(e){var t=e.type,n=e.entityName,c=e.entityTableName,a=e.applyFilter,r=e.removeFilterChange,i=Object(y.g)(),l=Object(A.c)(T.b),s=Object(j.useState)(""),u=Object(o.a)(s,2),f=u[0],b=u[1],O=Object(j.useState)([]),p=Object(o.a)(O,2),h=p[0],d=p[1];return Object(j.useEffect)((function(){var e=S(i,"filter"),n=unescape(e);""!==n&&JSON.parse(n).forEach((function(e){e.fieldName===t&&b(e.value)}))}),[]),Object(j.useEffect)((function(){f.length>0?a({fieldName:t,value:f,sort:0},t):r(t)}),[f]),Object(j.useEffect)((function(){Object(m.k)(l,c,"name",(function(e){d(e.map((function(e){return{value:e,label:e}})))}))}),[t,n]),Object(B.jsx)(I.a,{placeholder:"Select ".concat(t),data:h,value:f,onChange:b,onClean:function(){return b("")},style:{width:"300px"}})},Q=function(e){var t=e.config,n=e.applyFilter,c=e.removeFilterChange,a=Object(y.g)(),r=Object(j.useState)(!1),i=Object(o.a)(r,2),l=i[0],s=i[1],u=Object(j.useState)(""),f=Object(o.a)(u,2),b=f[0],O=f[1],p=Object(j.useState)(""),h=Object(o.a)(p,2),d=h[0],v=h[1];return Object(j.useEffect)((function(){var e,n;O((null===(e=t.found)||void 0===e?void 0:e.field)||""),v((null===(n=t.found)||void 0===n?void 0:n.searchTerm)||"");var c=S(a,"filter"),r=unescape(c);""!==r&&JSON.parse(r).forEach((function(e){var n;e.fieldName===(null===(n=t.found)||void 0===n?void 0:n.field)&&s(!0)}))}),[]),Object(j.useEffect)((function(){l?n({fieldName:b,value:d,sort:0},b):c(b)}),[l]),Object(B.jsx)(U,{children:Object(B.jsx)(H.a,{checked:l,onCheckboxClick:function(){return s((function(e){return!e}))},children:d})})},U=f.b.div(a||(a=Object(u.a)(["\n  width: min-content;\n"]))),V=n(93),X=function(e){var t=e.type,n=e.entityName,c=e.applyFilter,a=e.removeFilterChange,r=Object(y.g)(),i=Object(A.c)(T.b),l=Object(j.useState)([]),s=Object(o.a)(l,2),u=s[0],f=s[1],b=Object(j.useState)([]),O=Object(o.a)(b,2),p=O[0],h=O[1];return Object(j.useEffect)((function(){var e=S(r,"filter"),n=unescape(e);""!==n&&JSON.parse(n).forEach((function(e){e.fieldName===t&&f(e.value)}))}),[]),Object(j.useEffect)((function(){u.length>0?c({fieldName:t,value:u,sort:0},t):a(t)}),[u]),Object(j.useEffect)((function(){Object(m.k)(i,t,"name",(function(e){h(e.map((function(e){return{value:e,label:e}})))}))}),[t,n]),Object(B.jsx)(z.a,{placeholder:"Select ".concat(t),data:p,trigger:"Enter",value:u,onChange:f,onClean:function(){return f([])},style:{width:"300px"}})},Y=function(e){var t=e.type,n=e.entityName,c=e.applyFilter,a=e.removeFilterChange,r=Object(y.g)(),i=Object(A.c)(T.b),l=Object(j.useState)([]),s=Object(o.a)(l,2),u=s[0],f=s[1],b=Object(j.useState)([]),O=Object(o.a)(b,2),p=O[0],h=O[1];return Object(j.useEffect)((function(){var e=S(r,"filter"),n=unescape(e);""!==n&&JSON.parse(n).forEach((function(e){e.fieldName===t&&f(e.value)}))}),[]),Object(j.useEffect)((function(){u.length>0?c({fieldName:t,value:u,sort:0},t):a(t)}),[u]),Object(j.useEffect)((function(){Object(m.k)(i,n,t,(function(e){h(e.map((function(e){return{value:e,label:e}})))}))}),[t,n]),Object(B.jsx)(z.a,{placeholder:"Select ".concat(t),data:p,trigger:"Enter",value:u,onChange:f,onClean:function(){return f([])},style:{width:"300px"}})},Z=function(e){var t=e.entityName,n=e.entities,c=e.filters,a=e.showSearchBar,r=e.openSearchBar,i=e.doSearch,l=Object(y.f)(),s=Object(y.g)(),u=Object(j.useState)(c),f=Object(o.a)(u,2),b=f[0],O=f[1],h=Object(j.useState)([]),d=Object(o.a)(h,2),v=d[0],g=d[1],m=Object(A.c)((function(e){return e.system})),x=function(e,t){g((function(n){return n=1===n.filter((function(e){return e.fieldName===t})).length?n.map((function(n){return n.fieldName===t?e:n})):[].concat(Object(F.a)(n),[e])}))},N=function(e){g((function(t){return t.filter((function(t){return t.fieldName!==e}))}))};Object(j.useEffect)((function(){i(b)}),[b]),Object(j.useEffect)((function(){var e=S(s,"filter"),t=unescape(e);if(""!==t){var n=JSON.parse(t);O(n)}}),[]);return Object(B.jsxs)(E.a,{open:a,onClose:function(){return r(!1)},placement:"top",children:[Object(B.jsxs)(E.a.Header,{children:[Object(B.jsx)(E.a.Title,{children:"Search"}),Object(B.jsxs)(E.a.Actions,{children:[Object(B.jsx)(p.a,{onClick:function(){!function(){var e=Object(F.a)(v);if(e.length>0)if(""!==s.search){var n="";s.search.substring(1).split("&").forEach((function(e){e.includes("step")&&(n=e)})),l.push({pathname:"/".concat(t,"-overview"),search:"?filter=".concat(JSON.stringify(e),"&").concat(""!==n?"".concat(n,"&"):"","page=1")})}else l.push({pathname:"/".concat(t,"-overview"),search:"?filter=".concat(JSON.stringify(e))});else l.push({pathname:"/".concat(t,"-overview")});i(e)}(),r(!1)},appearance:"primary",children:"Search"}),Object(B.jsx)(p.a,{onClick:function(){!function(){g([]),O([]);var e="";s.search.substring(1).split("&").forEach((function(t){t.includes("step")&&(e=t)})),l.push({pathname:"/".concat(t,"-overview"),search:"?".concat(""!==e?"".concat(e,"&"):"","page=1")})}(),r(!1)},appearance:"ghost",children:"Reset"})]})]}),Object(B.jsx)(E.a.Body,{children:Object(B.jsx)($,{children:Object.getOwnPropertyNames(Object(V.g)(m,t)).map((function(e,c){var a=Object(V.b)(m,t,e);switch(!0){case"SearchableText"===a.type:case"SearchableString"===a.type:return Object(B.jsx)(P,{entityName:t,type:e,applyFilter:x,removeFilterChange:N},c);case"SetString"===a.type:return Object(B.jsx)(L,{entityName:t,type:e,applyFilter:x,removeFilterChange:N},c);case"SetAttributes"===a.type:return Object(B.jsx)(Y,{entityName:t,type:e,applyFilter:x,removeFilterChange:N},c);case"SetEntities"===a.type:return Object(B.jsx)(X,{entityName:t,type:e,applyFilter:x,removeFilterChange:N},c);case"SetEntity"===a.type:return Object(B.jsx)(K,{entityName:t,type:e,entityTableName:a.linkToAttribute||"",applyFilter:x,removeFilterChange:N},c);case"CreatableSetString"===a.type:return Object(B.jsx)(q,{entities:n,type:e,applyFilter:x,removeFilterChange:N},c);case"CompletableString"===a.type:return Object(B.jsx)(R,{entities:n,entityName:t,type:e,applyFilter:x,removeFilterChange:N},c);case"SwitchBoolean"===a.type:return Object(B.jsx)(W,{type:e,applyFilter:x,removeFilterChange:N},c);case"CreatableSetNumber"===a.type:return Object(B.jsx)(G,{entities:n,type:e,applyFilter:x,removeFilterChange:N},c);case"FoundString"===a.type:return Object(B.jsx)(Q,{config:a,applyFilter:x,removeFilterChange:N},c);default:return Object(B.jsx)(B.Fragment,{})}}))})})]})},$=f.b.div(r||(r=Object(u.a)(["\n  height: auto;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n  gap: 10px;\n"]))),_=n(436),ee=n(179),te=(t.default=function(e){var t=e.entityName,n=Object(y.f)(),c=Object(y.g)(),a=Object(A.c)(T.b),r=Object(j.useState)([]),i=Object(o.a)(r,2),l=i[0],s=i[1],u=Object(j.useState)([]),f=Object(o.a)(u,2),N=f[0],F=f[1],E=Object(j.useState)([]),C=Object(o.a)(E,2),w=C[0],k=C[1],J=Object(j.useState)([]),P=Object(o.a)(J,2),z=P[0],L=P[1],q=Object(j.useState)(1),M=Object(o.a)(q,2),R=M[0],H=M[1],W=Object(j.useState)(1),D=Object(o.a)(W,2),G=D[0],I=D[1],K=Object(j.useState)(10),Q=Object(o.a)(K,2),U=Q[0],V=Q[1],X=Object(j.useState)(!1),Y=Object(o.a)(X,2),$=Y[0],ae=Y[1],re=Object(j.useState)(!0),ie=Object(o.a)(re,2),le=ie[0],se=ie[1];Object(j.useEffect)((function(){""!==t&&Object(m.f)(a,t,(function(e){s(e)}))}),[t]);var ue=function(){var e=+S(c,"step"),t=+S(c,"page"),n=S(c,"filter");return t<1&&(t=1),e<10&&(e=10),""!==n?{oldStep:e,oldPage:t,oldFilters:JSON.parse(n)}:{oldStep:e,oldPage:t,oldFilters:[]}};Object(j.useEffect)((function(){!function(){var e=ue(),t=e.oldPage,n=e.oldStep,c=e.oldFilters,a=N.slice((t-1)*n,t*n);H(t),V(n),I(Math.ceil(N.length/n)),k(a),L(c)}()}),[c]);var oe=function(e){var a=N.slice((e-1)*U,e*U);if(k(a),H(e),c.search.includes("filter")){var r="";c.search.substring(1).split("&").forEach((function(e){e.includes("filter")&&(r=e)})),n.push({pathname:"/".concat(t,"-overview"),search:"?".concat(r,"&page=").concat(e,"&step=").concat(U)})}else n.push({pathname:"/".concat(t,"-overview"),search:"?page=".concat(e,"&step=").concat(U)})};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Z,{entityName:t,entities:l,filters:z,showSearchBar:$,openSearchBar:ae,doSearch:function(e){se(!0),Object(m.h)(a,t,e,(function(t){t.length<=0&&ae(!0),F(t),L(e),function(e,t,n){var c=n.slice((t-1)*e,t*e);H(t),V(e),I(Math.ceil(n.length/e)),k(c)}(10,1,t),se(!1)}))}}),Object(B.jsxs)(ce,{children:[Object(B.jsx)(_.a,{}),Object(B.jsxs)(O.a,{children:[Object(B.jsx)(p.a,{onClick:function(){n.push("/".concat(t,"-builder"))},size:"lg",children:Object(B.jsx)(x.w,{})}),Object(B.jsx)(p.a,{onClick:function(){return ae((function(e){return!e}))},style:{marginRight:"5px"},size:"lg",children:Object(B.jsx)(x.y,{})})]}),Object(B.jsx)(h.a,{size:"lg",prefix:"Step",value:U,onChange:function(e){return function(e){var a=N.slice(0*e,1*e);if(k(a),V(e),c.search.includes("filter")){var r="";c.search.substring(1).split("&").forEach((function(e){e.includes("filter")&&(r=e)})),n.push({pathname:"/".concat(t,"-overview"),search:"?".concat(r,"&page=1&step=").concat(e)})}else n.push({pathname:"/".concat(t,"-overview"),search:"?page=1&step=".concat(e)})}(e)},step:10,max:100,min:10,scrollable:!0,style:{width:130}}),Object(B.jsx)(d.a,{style:{marginLeft:"5px",marginTop:"-5px"},children:z.map((function(e,t){return function(e,t){if(e.value instanceof Array){var n=e.value.length;return Object(B.jsxs)(b.a,{size:"lg",children:[e.fieldName,":"," ",e.value.map((function(e,t){return t+1===n?e:e+" or "}))]},t)}return"boolean"===typeof e.value?Object(B.jsxs)(b.a,{size:"lg",children:[e.fieldName,": ",e.value?"true":"false"]},t):Object(B.jsxs)(b.a,{size:"lg",children:[e.fieldName,': "',e.value,'"']},t)}(e,t)}))})]}),le&&Object(B.jsx)(v.a,{center:!0,content:"Loading..."}),!le&&N.length>0&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ne,{children:Object(B.jsx)(g.a,{size:"lg",prev:!0,next:!0,first:!0,last:!0,ellipsis:!0,boundaryLinks:!0,pages:G,maxButtons:5,activePage:R,onSelect:oe,total:0})}),Object(B.jsx)(te,{children:""!==t&&w.length>0&&w.map((function(e,n){return Object(B.jsx)(ee.a,{entity:e,entityName:t},n)}))}),Object(B.jsx)(ne,{children:Object(B.jsx)(g.a,{size:"lg",prev:!0,next:!0,first:!0,last:!0,ellipsis:!0,boundaryLinks:!0,pages:G,maxButtons:5,activePage:R,onSelect:oe,total:0})})]})]})},f.b.div(i||(i=Object(u.a)(["\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 20px;\n"])))),ne=f.b.div(l||(l=Object(u.a)(["\n  width: calc(100% - 20px);\n  display: flex;\n  justify-content: center;\n  padding: 5px;\n"]))),ce=Object(f.b)(N.a)(s||(s=Object(u.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"])))}}]);
//# sourceMappingURL=9.389ccf71.chunk.js.map