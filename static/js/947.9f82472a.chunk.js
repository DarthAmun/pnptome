"use strict";(self.webpackChunkpnptome=self.webpackChunkpnptome||[]).push([[947],{21947:function(e,n,t){t.r(n),t.d(n,{default:function(){return be}});var i,a,r,l,o,s,c,u,d,f,h,Z,g,x,p,v,y,j,C,m=t(17186),b=t(35531),S=t(18489),w=t(23430),E=t(72791),N=t(56355),k=t(59434),F=t(16871),P=t(6186),A=t(89626),T=t(94514),O=t(57214),B=t(11786),D=t(79795),I=t(81562),K=t(43846),V=t(2980),R=t(26630),Q=t(65484),Y=t(36031),J=t(99892),M=t(28980),W=t(43139),H=t(25165),X=t(82769),z=t(8250),U=t(87534),L=t(48622),q=t(36222),G=t(763),$=t.n(G),_=t(52862),ee=t(50845),ne=t(80184),te=function(e){var n,t,i=e.entity,a=e.systemEntity,r=e.entities,l=e.icons,o=e.changeEntity,s=(0,E.useState)(Object.keys(a.detailConfig)[0]),c=(0,w.Z)(s,2),u=c[0],d=c[1],f=(0,E.useState)([]),h=(0,w.Z)(f,2),Z=h[0],g=h[1];(0,E.useEffect)((function(){var e=[];a.attributes.forEach((function(n){e.push({label:n,value:n})})),g(e)}),[a]);var x=(0,E.useState)([]),p=(0,w.Z)(x,2),v=p[0],y=p[1];(0,E.useEffect)((function(){if(u&&a.detailConfig[u]&&a.detailConfig[u].viewEntity){var e=a.detailConfig[u].viewEntity,n=e.linkedBy,t=(e.fieldsDisplayed,a.detailConfig[n].linkToAttribute);i.entities.filter((function(e){return e.entityName===t})).map((function(e){var n=[];e.attributes.forEach((function(e){n.push({label:e,value:e})})),y(n)}))}}),[u,a,i]);var j=[{label:"CreatableSetString",value:"CreatableSetString"},{label:"CreatableSetNumber",value:"CreatableSetNumber"},{label:"FoundFlag",value:"FoundFlag"},{label:"SwitchBoolean",value:"SwitchBoolean"},{label:"ImageName",value:"ImageName"},{label:"CompletableString",value:"CompletableString"},{label:"SearchableString",value:"SearchableString"},{label:"SearchableText",value:"SearchableText"},{label:"SetEntities",value:"SetEntities"},{label:"SetEntity",value:"SetEntity"},{label:"ViewEntity",value:"ViewEntity"},{label:"SubEntityConnector",value:"SubEntityConnector"},{label:"EditableSubEntities",value:"EditableSubEntities"}],C=(0,q.Z)({name:"name",sources:"sources"},u,"test");return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(I.Z,{children:[(0,ne.jsx)(K.Z,{children:Object.getOwnPropertyNames(a.detailConfig).map((function(e,n){return(0,ne.jsx)(A.Z,{onClick:function(){return d(e)},appearance:e===u?"primary":"default",children:e})}))}),(0,ne.jsx)(V.Z,{icon:(0,ne.jsx)(N.EIY,{}),onClick:function(){return function(){var e=(0,S.Z)({},a.detailConfig);e.new={type:j[0].value},o((0,S.Z)((0,S.Z)({},a),{},{detailConfig:e})),d("new")}()}})]}),(0,ne.jsxs)(ie,{children:[u&&a.detailConfig[u]&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(B.Z,{style:{width:200},value:u,onChange:function(e){var n=(0,S.Z)({},a.detailConfig),t=$().mapKeys(n,(function(n,t){return t===u?e:t}));d(e),o((0,S.Z)((0,S.Z)({},a),{},{detailConfig:t}))}}),(0,ne.jsx)(X.Z,{data:j,value:null===(n=a.detailConfig[u])||void 0===n?void 0:n.type,onChange:function(e){var n=(0,S.Z)({},a.detailConfig);n[u].type=e,o((0,S.Z)((0,S.Z)({},a),{},{detailConfig:n}))},placeholder:"Detail Representation",cleanable:!1})]}),u&&a.detailConfig[u]&&(0,ne.jsx)(X.Z,{value:null===(t=a.detailConfig[u])||void 0===t?void 0:t.icon,data:l,onChange:function(e){var n=(0,S.Z)({},a.detailConfig);n[u].icon=e,o((0,S.Z)((0,S.Z)({},a),{},{detailConfig:n}))},renderMenuItem:function(e,n){return(0,ne.jsxs)("div",{children:[(0,L.AQ)(n.value+"")," ",e]})},renderValue:function(e){return(0,ne.jsxs)("div",{children:[(0,L.AQ)(e.toString())," ",e]})}}),u&&a.detailConfig[u]&&function(e){var n,t,i,l;switch(console.log(e.type),!0){case"FoundString"===e.type:return(0,ne.jsxs)(ae,{children:[(0,ne.jsxs)(re,{children:[(0,ne.jsx)("label",{children:"Searched Attribute: "}),(0,ne.jsx)(X.Z,{data:Z,value:null===(n=e.found)||void 0===n?void 0:n.field,onChange:function(e){var n=(0,S.Z)({},a.detailConfig);n[u].found?n[u].found.field=e:n[u].found={field:e,searchTerm:""},o((0,S.Z)((0,S.Z)({},a),{},{detailConfig:n}))},cleanable:!1,placeholder:"Attribute"})]}),(0,ne.jsxs)(re,{children:[(0,ne.jsx)("label",{children:"Keyword: "}),(0,ne.jsx)(B.Z,{value:null===(t=e.found)||void 0===t?void 0:t.searchTerm,onChange:function(e){var n=(0,S.Z)({},a.detailConfig);n[u].found?n[u].found.searchTerm=e:n[u].found={field:"",searchTerm:e},o((0,S.Z)((0,S.Z)({},a),{},{detailConfig:n}))},placeholder:"Key"})]})]});case"SetEntity"===e.type:return(0,ne.jsx)(ae,{children:(0,ne.jsx)(re,{children:(0,ne.jsx)(X.Z,{data:r,value:e.linkToAttribute,onChange:function(e){var n=(0,S.Z)({},a.detailConfig);n[u].linkToAttribute=e,o((0,S.Z)((0,S.Z)({},a),{},{detailConfig:n}))},placeholder:"Detail Representation"})})});case"ViewEntity"===e.type:return(0,ne.jsxs)(ae,{children:[(0,ne.jsxs)(re,{children:[(0,ne.jsx)("label",{children:"Base Attribute: "}),(0,ne.jsx)(X.Z,{data:Z,value:null===(i=e.viewEntity)||void 0===i?void 0:i.linkedBy,onChange:function(e){var n=(0,S.Z)({},a.detailConfig);n[u].viewEntity?n[u].viewEntity.linkedBy=e:n[u].viewEntity={linkedBy:e,fieldsDisplayed:""},o((0,S.Z)((0,S.Z)({},a),{},{detailConfig:n}))},cleanable:!1,placeholder:"Attribute"})]}),(0,ne.jsxs)(re,{children:[(0,ne.jsx)("label",{children:"Attributes to display: "}),(0,ne.jsx)(_.Z,{creatable:!0,data:v,value:null===(l=e.viewEntity)||void 0===l?void 0:l.fieldsDisplayed,onCreate:function(e,n){console.log(e,n)},onChange:function(e){console.log(e);var n=(0,S.Z)({},a.detailConfig);n[u].viewEntity?n[u].viewEntity.fieldsDisplayed=e:n[u].viewEntity={linkedBy:"",fieldsDisplayed:e},o((0,S.Z)((0,S.Z)({},a),{},{detailConfig:n}))},trigger:"Enter"})]})]});case"SubEntityConnector"===e.type:case"EditableSubEntities"===e.type:return(0,ne.jsx)(ne.Fragment,{children:"SubEntityConnector"})}}(a.detailConfig[u]),u&&a.detailConfig[u]&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(A.Z,{onClick:function(){return function(){var e=(0,S.Z)({},a.detailConfig);delete e[u],o((0,S.Z)((0,S.Z)({},a),{},{detailConfig:e}))}()},children:(0,ne.jsx)(N.Xm5,{})}),(0,ne.jsx)(le,{content:"Preview",children:(0,ne.jsx)(ee.Z,{configs:[u],entityName:a.entityName,entity:C,onEdit:function(e){return console.log("test")},isNew:!0,dummyFieldEntry:a.searchConfig[u]})})]})]})]})},ie=Y.ZP.div(i||(i=(0,m.Z)(["\n  margin-top: 10px;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n"]))),ae=(0,Y.ZP)(ie)(a||(a=(0,m.Z)(["\n  margin-top: 0px;\n"]))),re=(0,Y.ZP)(ie)(r||(r=(0,m.Z)(["\n  margin-top: 0px;\n  display: flex;\n  flex-wrap: nowrap;\n  flex-direction: row;\n  align-items: center;\n"]))),le=(0,Y.ZP)(Q.Z)(l||(l=(0,m.Z)(["\n  border-radius: 5px;\n  background-color: ",";\n  padding: 10px;\n  width: calc(100% - 15px);\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"])),(function(e){return e.theme.mainColor})),oe=t(11028),se=function(e){var n,t=e.systemEntity,i=e.entities,a=e.changeEntity,r=(0,E.useState)(Object.keys(t.searchConfig)[0]),l=(0,w.Z)(r,2),o=l[0],s=l[1],c=(0,E.useState)([]),u=(0,w.Z)(c,2),d=u[0],f=u[1];(0,E.useEffect)((function(){var e=[];t.attributes.forEach((function(n){e.push({label:n,value:n})})),f(e)}),[t]);var h=[{label:"SearchableString",value:"SearchableString"},{label:"CreatableSetString",value:"CreatableSetString"},{label:"CompletableString",value:"CompletableString"},{label:"FoundString",value:"FoundString"},{label:"CreatableSetNumber",value:"CreatableSetNumber"},{label:"SearchableText",value:"SearchableText"},{label:"SetEntities",value:"SetEntities"},{label:"SetEntity",value:"SetEntity"},{label:"SwitchBoolean",value:"SwitchBoolean"}];return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(I.Z,{children:[(0,ne.jsx)(K.Z,{children:Object.getOwnPropertyNames(t.searchConfig).map((function(e,n){return(0,ne.jsx)(A.Z,{onClick:function(){return s(e)},appearance:e===o?"primary":"default",children:e})}))}),(0,ne.jsx)(V.Z,{icon:(0,ne.jsx)(N.EIY,{}),onClick:function(){return function(){var e=(0,S.Z)({},t.searchConfig);e.new={type:h[0].value},a((0,S.Z)((0,S.Z)({},t),{},{searchConfig:e})),s("new")}()}})]}),(0,ne.jsxs)(ce,{children:[o&&t.searchConfig[o]&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(B.Z,{style:{width:200},value:o,onChange:function(e){var n=(0,S.Z)({},t.searchConfig),i=$().mapKeys(n,(function(n,t){return t===o?e:t}));s(e),a((0,S.Z)((0,S.Z)({},t),{},{searchConfig:i}))}}),(0,ne.jsx)(X.Z,{data:h,value:null===(n=t.searchConfig[o])||void 0===n?void 0:n.type,onChange:function(e){var n=(0,S.Z)({},t.searchConfig);n[o].type=e,a((0,S.Z)((0,S.Z)({},t),{},{searchConfig:n}))},placeholder:"Detail Representation",cleanable:!1})]}),o&&t.searchConfig[o]&&function(e){var n,r;switch(!0){case"FoundString"===e.type:return(0,ne.jsxs)(ue,{children:[(0,ne.jsxs)(de,{children:[(0,ne.jsx)("label",{children:"Searched Attribute: "}),(0,ne.jsx)(X.Z,{data:d,value:null===(n=e.found)||void 0===n?void 0:n.field,onChange:function(e){var n=(0,S.Z)({},t.searchConfig);n[o].found?n[o].found.field=e:n[o].found={field:e,searchTerm:""},a((0,S.Z)((0,S.Z)({},t),{},{searchConfig:n}))},cleanable:!1,placeholder:"Attribute"})]}),(0,ne.jsxs)(de,{children:[(0,ne.jsx)("label",{children:"Keyword: "}),(0,ne.jsx)(B.Z,{value:null===(r=e.found)||void 0===r?void 0:r.searchTerm,onChange:function(e){var n=(0,S.Z)({},t.searchConfig);n[o].found?n[o].found.searchTerm=e:n[o].found={field:"",searchTerm:e},a((0,S.Z)((0,S.Z)({},t),{},{searchConfig:n}))},placeholder:"Key"})]})]});case"SetEntity"===e.type:return(0,ne.jsx)(ue,{children:(0,ne.jsx)(de,{children:(0,ne.jsx)(X.Z,{data:i,value:e.linkToAttribute,onChange:function(e){var n=(0,S.Z)({},t.searchConfig);n[o].linkToAttribute=e,a((0,S.Z)((0,S.Z)({},t),{},{searchConfig:n}))},placeholder:"Detail Representation"})})})}}(t.searchConfig[o]),o&&t.searchConfig[o]&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(A.Z,{onClick:function(){return function(){var e=(0,S.Z)({},t.searchConfig);delete e[o],a((0,S.Z)((0,S.Z)({},t),{},{searchConfig:e}))}()},children:(0,ne.jsx)(N.Xm5,{})}),(0,ne.jsx)(fe,{content:"Preview",children:(0,ne.jsx)(oe.Z,{configs:[o],entityName:t.entityName,entities:[{name:"test"}],applyFilterChange:function(e,n){return console.log("empty")},removeFilterChange:function(e){return console.log("empty")},dummyFieldEntry:t.searchConfig[o]})})]})]})]})},ce=Y.ZP.div(o||(o=(0,m.Z)(["\n  margin-top: 10px;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n"]))),ue=(0,Y.ZP)(ce)(s||(s=(0,m.Z)(["\n  margin-top: 0px;\n"]))),de=(0,Y.ZP)(ce)(c||(c=(0,m.Z)(["\n  margin-top: 0px;\n  display: flex;\n  flex-wrap: nowrap;\n  flex-direction: row;\n  align-items: center;\n"]))),fe=(0,Y.ZP)(Q.Z)(u||(u=(0,m.Z)(["\n  border-radius: 5px;\n  background-color: ",";\n  padding: 10px;\n  width: calc(100% - 15px);\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"])),(function(e){return e.theme.mainColor})),he=t(95046),Ze=function(e){var n,t,i=e.systemEntity,a=(e.entities,e.icons),r=e.changeEntity,l=(0,E.useState)(Object.keys(i.tileConfig)[0]),o=(0,w.Z)(l,2),s=o[0],c=o[1],u=(0,E.useState)([]),d=(0,w.Z)(u,2),f=d[0],h=d[1];(0,E.useEffect)((function(){var e=[];i.attributes.forEach((function(n){e.push({label:n,value:n})})),h(e)}),[i]);var Z=[{label:"ColoredFlag",value:"ColoredFlag"},{label:"FoundFlag",value:"FoundFlag"},{label:"BooleanFlag",value:"BooleanFlag"},{label:"RoundNumberFlag",value:"RoundNumberFlag"},{label:"ImageName",value:"ImageName"},{label:"SmallProp",value:"SmallProp"},{label:"SmallSetProp",value:"SmallSetProp"},{label:"WideProp",value:"WideProp"},{label:"WideSetProp",value:"WideSetProp"},{label:"SetEntity",value:"SetEntity"}],g=(0,q.Z)({name:"name",sources:"sources"},s,"test");return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(I.Z,{children:[(0,ne.jsx)(K.Z,{children:Object.getOwnPropertyNames(i.tileConfig).map((function(e,n){return(0,ne.jsx)(A.Z,{onClick:function(){return c(e)},appearance:e===s?"primary":"default",children:e})}))}),(0,ne.jsx)(V.Z,{icon:(0,ne.jsx)(N.EIY,{}),onClick:function(){return function(){var e=(0,S.Z)({},i.tileConfig);e.new={type:Z[0].value},r((0,S.Z)((0,S.Z)({},i),{},{tileConfig:e})),c("new")}()}})]}),(0,ne.jsxs)(ge,{children:[s&&i.tileConfig[s]&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(B.Z,{style:{width:200},value:s,onChange:function(e){var n=(0,S.Z)({},i.tileConfig),t=$().mapKeys(n,(function(n,t){return t===s?e:t}));c(e),r((0,S.Z)((0,S.Z)({},i),{},{tileConfig:t}))}}),(0,ne.jsx)(X.Z,{data:Z,value:null===(n=i.tileConfig[s])||void 0===n?void 0:n.type,onChange:function(e){var n=(0,S.Z)({},i.tileConfig);n[s].type=e,r((0,S.Z)((0,S.Z)({},i),{},{tileConfig:n}))},placeholder:"Detail Representation",cleanable:!1})]}),s&&i.tileConfig[s]&&(0,ne.jsx)(X.Z,{value:null===(t=i.tileConfig[s])||void 0===t?void 0:t.icon,data:a,onChange:function(e){var n=(0,S.Z)({},i.tileConfig);n[s].icon=e,r((0,S.Z)((0,S.Z)({},i),{},{tileConfig:n}))},renderMenuItem:function(e,n){return(0,ne.jsxs)("div",{children:[(0,L.AQ)(n.value+"")," ",e]})},renderValue:function(e){return(0,ne.jsxs)("div",{children:[(0,L.AQ)(e.toString())," ",e]})}}),s&&i.tileConfig[s]&&function(e){var n,t;if(!0===("FoundFlag"===e.type))return(0,ne.jsxs)(xe,{children:[(0,ne.jsxs)(pe,{children:[(0,ne.jsx)("label",{children:"Searched Attribute: "}),(0,ne.jsx)(X.Z,{data:f,value:null===(n=e.found)||void 0===n?void 0:n.field,onChange:function(e){var n=(0,S.Z)({},i.tileConfig);n[s].found?n[s].found.field=e:n[s].found={field:e,searchTerm:""},r((0,S.Z)((0,S.Z)({},i),{},{tileConfig:n}))},cleanable:!1,placeholder:"Attribute"})]}),(0,ne.jsxs)(pe,{children:[(0,ne.jsx)("label",{children:"Keyword: "}),(0,ne.jsx)(B.Z,{value:null===(t=e.found)||void 0===t?void 0:t.searchTerm,onChange:function(e){var n=(0,S.Z)({},i.tileConfig);n[s].found?n[s].found.searchTerm=e:n[s].found={field:"",searchTerm:e},r((0,S.Z)((0,S.Z)({},i),{},{tileConfig:n}))},placeholder:"Key"})]})]})}(i.tileConfig[s]),s&&i.tileConfig[s]&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(A.Z,{onClick:function(){return function(){var e=(0,S.Z)({},i.tileConfig);delete e[s],r((0,S.Z)((0,S.Z)({},i),{},{tileConfig:e}))}()},children:(0,ne.jsx)(N.Xm5,{})}),(0,ne.jsx)(ve,{content:"Preview",children:(0,ne.jsx)(he.Z,{configs:[s],entityName:i.entityName,entity:g,dummyFieldEntry:i.tileConfig[s]})})]})]})]})},ge=Y.ZP.div(d||(d=(0,m.Z)(["\n  margin-top: 10px;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n"]))),xe=(0,Y.ZP)(ge)(f||(f=(0,m.Z)(["\n  margin-top: 0px;\n"]))),pe=(0,Y.ZP)(ge)(h||(h=(0,m.Z)(["\n  margin-top: 0px;\n  display: flex;\n  flex-wrap: nowrap;\n  flex-direction: row;\n  align-items: center;\n"]))),ve=(0,Y.ZP)(Q.Z)(Z||(Z=(0,m.Z)(["\n  border-radius: 5px;\n  background-color: ",";\n  padding: 10px;\n  width: calc(100% - 15px);\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"])),(function(e){return e.theme.mainColor})),ye=function(e){var n,t=e.entity,i=e.systemEntity,a=e.entities,r=e.changeEntity,l=e.deleteSystemEntity,o=(0,E.useState)(void 0),s=(0,w.Z)(o,2),c=s[0],u=s[1],d=(0,E.useState)(!1),f=(0,w.Z)(d,2),h=f[0],Z=f[1],g=(0,E.useState)(""),x=(0,w.Z)(g,2),p=x[0],v=x[1],y=(0,E.useState)(!1),j=(0,w.Z)(y,2),C=j[0],m=j[1],k=(0,E.useState)([]),F=(0,w.Z)(k,2),T=F[0],I=F[1];(0,E.useEffect)((function(){c&&JSON.stringify(i.attributes)!==JSON.stringify(c)&&r((0,S.Z)((0,S.Z)({},i),{},{attributes:c}))}),[c]),(0,E.useEffect)((function(){var e=[];L.RE.forEach((function(n,t){e.push({label:t,value:t})})),I(e)}),[]);var K=function(){var e=p?[].concat((0,b.Z)(i.attributes),[p]):c;u(e),Z(!1),v("")},R=function(){Z(!0)};return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(P.Z,{open:C,onClose:function(){return m(!1)},children:[(0,ne.jsx)(P.Z.Header,{children:(0,ne.jsx)(P.Z.Title,{children:"Delete"})}),(0,ne.jsxs)(P.Z.Body,{children:["Are you sure you want to delete '",null===i||void 0===i?void 0:i.entityName,"'?"]}),(0,ne.jsxs)(P.Z.Footer,{children:[(0,ne.jsx)(A.Z,{onClick:function(){return l(i)},appearance:"primary",children:"Yes, delete!"}),(0,ne.jsx)(A.Z,{onClick:function(){return m(!1)},appearance:"subtle",children:"Cancel"})]})]}),(0,ne.jsxs)(je,{children:[(0,ne.jsxs)(O.Z,{children:[(0,ne.jsx)(O.Z.Addon,{children:"Entity Name"}),(0,ne.jsx)(B.Z,{value:i.entityName,onChange:function(e){return r((0,S.Z)((0,S.Z)({},i),{},{entityName:e}))}})]}),(0,ne.jsxs)(H.Z,{defaultChecked:!0,checked:i.isMainEntity,onChange:function(e,n){return r((0,S.Z)((0,S.Z)({},i),{},{isMainEntity:n}))},children:[" ","is a main entity?"]}),(0,ne.jsx)(X.Z,{value:i.icon,data:T,onChange:function(e){return r((0,S.Z)((0,S.Z)({},i),{},{icon:e}))},renderMenuItem:function(e,n){return(0,ne.jsxs)("div",{children:[(0,L.AQ)(n.value+"")," ",e]})},renderValue:function(e){return(0,ne.jsxs)("div",{children:[(0,L.AQ)(e.toString())," ",e]})}}),(0,ne.jsxs)(Ce,{accordion:!0,bordered:!0,children:[(0,ne.jsx)(D.Z,{header:"".concat(i.entityName," attributes"),children:(0,ne.jsxs)(me,{children:[i&&(null===(n=i.attributes)||void 0===n?void 0:n.map((function(e,n){return(0,ne.jsx)(z.Z,{closable:!0,onClose:function(){return function(e){var n=i.attributes.filter((function(n){return n!==e}));u(n)}(e)},children:e},n)}))),h?(0,ne.jsx)(B.Z,{className:"tag-input",size:"xs",style:{width:100},value:p,onChange:function(e){return v(e)},onBlur:K,onPressEnter:K}):(0,ne.jsx)(V.Z,{className:"tag-add-btn",onClick:R,icon:(0,ne.jsx)(N.wEH,{}),appearance:"ghost",size:"xs"})]})}),(0,ne.jsx)(D.Z,{header:"".concat(i.entityName," search config"),children:(0,ne.jsx)(se,{systemEntity:i,entities:a,changeEntity:r})}),(0,ne.jsx)(D.Z,{header:"".concat(i.entityName," tile config"),children:(0,ne.jsx)(Ze,{systemEntity:i,entities:a,icons:T,changeEntity:r})}),(0,ne.jsx)(D.Z,{header:"".concat(i.entityName," detail config"),children:(0,ne.jsx)(te,{entity:t,systemEntity:i,entities:a,icons:T,changeEntity:r})})]}),(0,ne.jsx)(A.Z,{onClick:function(){return m(!0)},size:"lg",children:(0,ne.jsx)(N.Xm5,{})})]})]})},je=Y.ZP.div(g||(g=(0,m.Z)(["\n  margin-top: 10px;\n  display: flex;\n  gap: 5px;\n  flex-wrap: nowrap;\n  flex-direction: column;\n\n  border-radius: 5px;\n  background-color: ",";\n  padding: 10px;\n"])),(function(e){return e.theme.secondColor})),Ce=(Y.ZP.div(x||(x=(0,m.Z)(["\n  display: flex;\n  gap: 5px;\n"]))),(0,Y.ZP)(R.Z)(p||(p=(0,m.Z)(["\n  width: 100%;\n"])))),me=(0,Y.ZP)(U.Z)(v||(v=(0,m.Z)(["\n  .rs-btn {\n    margin-left: 10px;\n  }\n"]))),be=function(){var e=(0,F.UO)(),n=(0,F.s0)(),t=(0,k.I0)(),i=(0,E.useState)(),a=(0,w.Z)(i,2),r=a[0],l=a[1],o=(0,E.useState)(""),s=(0,w.Z)(o,2),c=s[0],u=s[1],d=(0,E.useState)(!1),f=(0,w.Z)(d,2),h=f[0],Z=f[1],g=(0,E.useState)(!0),x=(0,w.Z)(g,2),p=x[0],v=x[1],y=(0,E.useState)(!1),j=(0,w.Z)(y,2),C=j[0],m=j[1],R=(0,E.useState)(!1),Q=(0,w.Z)(R,2),Y=Q[0],H=Q[1],X=(0,E.useState)(0),z=(0,w.Z)(X,2),U=z[0],L=z[1];(0,E.useEffect)((function(){if(void 0!==e&&void 0===r){var n=e.id;n&&(0,M.wU)("PnPTomeDB",+n,(function(e){l(e),u(JSON.stringify(e.entities,null,2)),v(!1)}))}}),[e,r]),(0,E.useEffect)((function(){if(r)try{var e=JSON.parse(c);l((0,S.Z)((0,S.Z)({},r),{},{entities:e})),Z(!0)}catch(n){Z(!1)}}),[c]);var q=function(e){console.log(e),l(e)},G=function(e){if(r){var n=(0,b.Z)(r.entities).filter((function(n){return n.entityName!==e.entityName}));q((0,S.Z)((0,S.Z)({},r),{},{entities:n}))}};return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(P.Z,{open:C,onClose:function(){return m(!1)},children:[(0,ne.jsx)(P.Z.Header,{children:(0,ne.jsx)(P.Z.Title,{children:"Overwrite"})}),(0,ne.jsxs)(P.Z.Body,{children:["All the data saved for this system will be lost.",(0,ne.jsx)("br",{}),"Are you sure you want to overwrite '",null===r||void 0===r?void 0:r.name," - v",null===r||void 0===r?void 0:r.version,"'?"]}),(0,ne.jsxs)(P.Z.Footer,{children:[(0,ne.jsx)(A.Z,{onClick:function(){r&&((0,M.EQ)(r),(0,W.Wg)(r),localStorage.setItem("system",JSON.stringify(r)),t((0,J.sU)(r)),m(!1))},appearance:"primary",children:"Yes, overwirte!"}),(0,ne.jsx)(A.Z,{onClick:function(){return m(!1)},appearance:"subtle",children:"Cancel"})]})]}),(0,ne.jsxs)(P.Z,{open:Y,onClose:function(){return H(!1)},children:[(0,ne.jsx)(P.Z.Header,{children:(0,ne.jsx)(P.Z.Title,{children:"Delete"})}),(0,ne.jsxs)(P.Z.Body,{children:["All the data saved for this system will be lost.",(0,ne.jsx)("br",{}),"Are you sure you want to delete '",null===r||void 0===r?void 0:r.name," - v",null===r||void 0===r?void 0:r.version,"'?"]}),(0,ne.jsxs)(P.Z.Footer,{children:[(0,ne.jsx)(A.Z,{onClick:function(){r&&((0,M.ug)(r),H(!1),n(-1))},appearance:"primary",children:"Yes, delete!"}),(0,ne.jsx)(A.Z,{onClick:function(){return H(!1)},appearance:"subtle",children:"Cancel"})]})]}),p&&(0,ne.jsx)(T.Z,{center:!0,content:"Loading..."}),!p&&void 0!==r&&(0,ne.jsxs)(Se,{children:[(0,ne.jsxs)(O.Z,{children:[(0,ne.jsx)(O.Z.Addon,{children:"Name"}),(0,ne.jsx)(B.Z,{value:r.name,onChange:function(e){return l((0,S.Z)((0,S.Z)({},r),{},{name:e}))}})]}),(0,ne.jsxs)(O.Z,{children:[(0,ne.jsx)(O.Z.Addon,{children:"Version"}),(0,ne.jsx)(B.Z,{value:r.version,onChange:function(e){return l((0,S.Z)((0,S.Z)({},r),{},{version:e}))}})]}),(0,ne.jsxs)(O.Z,{children:[(0,ne.jsx)(O.Z.Addon,{children:"Pic"}),(0,ne.jsx)(B.Z,{value:r.pic,onChange:function(e){return l((0,S.Z)((0,S.Z)({},r),{},{pic:e}))}})]}),(0,ne.jsxs)(we,{accordion:!0,bordered:!0,children:[(0,ne.jsxs)(D.Z,{header:"Assisted Editor",children:[(0,ne.jsxs)(I.Z,{children:[(0,ne.jsx)(K.Z,{children:r.entities.map((function(e,n){return(0,ne.jsx)(A.Z,{onClick:function(){return L(n)},appearance:n===U?"primary":"default",children:e.entityName})}))}),(0,ne.jsx)(V.Z,{icon:(0,ne.jsx)(N.EIY,{}),onClick:function(){return function(){if(r){var e=(0,b.Z)(r.entities);e.push({entityName:"new",icon:"FaBookOpen",isMainEntity:!0,attributes:[],searchConfig:{},tileConfig:{},detailConfig:{}}),q((0,S.Z)((0,S.Z)({},r),{},{entities:e}))}}()}})]}),r.entities.filter((function(e){return r.entities.indexOf(e)===U})).map((function(e,n){return(0,ne.jsx)(ye,{entity:r,systemEntity:e,entities:r.entities.map((function(e){return{label:e.entityName,value:e.entityName}})),changeEntity:function(n){var t=r.entities.map((function(t){return t.entityName===e.entityName?n:t}));q((0,S.Z)((0,S.Z)({},r),{},{entities:t}))},deleteSystemEntity:G})}))]}),(0,ne.jsx)(D.Z,{header:"JSON Editor",children:(0,ne.jsx)(Ee,{content:h?"Valid":"Not Valid",color:h?"green":"red",children:(0,ne.jsx)(B.Z,{as:"textarea",rows:30,placeholder:"Textarea",value:c,onChange:function(e){return u(e)}})})})]}),(0,ne.jsx)(A.Z,{onClick:function(e){return m(!0)},children:"Overwirte"}),(0,ne.jsx)(A.Z,{color:"red",appearance:"primary",onClick:function(e){return H(!0)},children:"Delete"})]})]})},Se=Y.ZP.div(y||(y=(0,m.Z)(["\n  display: flex;\n  gap: 5px;\n  flex-wrap: wrap;\n"]))),we=(0,Y.ZP)(R.Z)(j||(j=(0,m.Z)(["\n  width: 100%;\n"]))),Ee=(0,Y.ZP)(Q.Z)(C||(C=(0,m.Z)(["\n  width: calc(100% - 15px);\n"])))}}]);
//# sourceMappingURL=947.9f82472a.chunk.js.map