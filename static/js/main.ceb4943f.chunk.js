(this.webpackJsonppnptome=this.webpackJsonppnptome||[]).push([[4],{119:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(79);var r=n(1),c=n(14),a=n(11),o=n(190),s=n(3),i=function(e,t){if(e){var n=u.get(e);return n&&t?Object(r.cloneElement)(n,{size:t}):n}},u=new Map([["FaHistory",Object(s.jsx)(c.k,{})],["FaHourglassHalf",Object(s.jsx)(c.m,{})],["FaMortarPestle",Object(s.jsx)(c.u,{})],["FaUser",Object(s.jsx)(c.C,{})],["FaLink",Object(s.jsx)(c.p,{})],["FaCoins",Object(s.jsx)(c.f,{})],["FaWeightHanging",Object(s.jsx)(c.D,{})],["FaMeteor",Object(s.jsx)(c.t,{})],["FaBookOpen",Object(s.jsx)(c.b,{})],["GiCrystalWand",Object(s.jsx)(a.g,{})],["GiBackpack",Object(s.jsx)(a.a,{})],["GiBullseye",Object(s.jsx)(a.f,{})],["GiSwordSpade",Object(s.jsx)(a.q,{})],["GiBloodySword",Object(s.jsx)(a.c,{})],["GiSwordSpin",Object(s.jsx)(a.r,{})],["GiMagicAxe",Object(s.jsx)(a.j,{})],["GiSherlockHolmes",Object(s.jsx)(a.m,{})],["GiWomanElfFace",Object(s.jsx)(a.t,{})],["GiBindle",Object(s.jsx)(a.b,{})],["GiUpgrade",Object(s.jsx)(a.s,{})],["GiPlagueDoctorProfile",Object(s.jsx)(a.k,{})],["IoSchool",Object(s.jsx)(o.a,{})]])},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return G})),n.d(t,"c",(function(){return D})),n.d(t,"b",(function(){return M}));var r,c,a,o,s,i=n(15),u=n(25),l=n(32),d=n(115),f=n.n(d),p=n(409),b=n(410),j=n(402),h=n(13),m=n(1),x=n(14),O=n(404),v=n(401),g=function(e){var t=e;return Math.round(1+Math.random()*(t-1))},y=n(3),w=function(e){var t=e.dice,n=Object(m.useState)(t),r=Object(u.a)(n,2),c=r[0],a=r[1],o=Object(m.useState)([]),s=Object(u.a)(o,2),i=s[0],d=s[1],f=function(){if(""!==c){var e=function(e,t){var n=0,r="",c="";e.split(" ").forEach((function(e){/\d+/g.test(e)?c+=e:r+=" "+e})),c=c.trim();var a="(`";return c.split(" ").forEach((function(e){var r=[];e.split("+").map((function(e,t){return t>0?"+"+e:e})).forEach((function(e){var t=e.split("-").map((function(e,t){return t>0?"-"+e:e}));r=r.concat(t)})),r.forEach((function(e){var r=1;if(e.includes("d"))if(e.startsWith("d")||(r=parseInt(e.split("d")[0]),e=e.split("d")[1]),e=e.replaceAll("d",""),t&&(r*=2),e.includes("+")){for(var c=e.split("+"),o=0;o<r;o++){var s=g(parseInt(c[0]));n+=s,a+=s+","}n+=parseInt(c[1])}else if(e.includes("-")){for(var i=e.split("-"),u=0;u<r;u++){var l=g(parseInt(i[0]));n+=l,a+=l+","}n-=parseInt(i[1])}else for(var d=0;d<r;d++){var f=g(parseInt(e));n+=f,a+=f+","}else a=a.slice(0,-1),n+=parseInt(e),a+="|"+e+","})),(a=a.slice(0,-1)).endsWith(")")||(a+="`)")})),{result:n,text:r,rolls:a}}(c),t=e.text,n=e.result,r=e.rolls,a=c+": "+n+r.replaceAll("`","")+" "+t;d((function(e){return[a].concat(Object(l.a)(e))}))}};return Object(y.jsxs)(k,{onClick:function(e){e.stopPropagation()},children:[Object(y.jsxs)(O.a,{style:{width:"max-content"},children:[Object(y.jsx)(v.a,{placeholder:"e.g. 2d8+3",value:c,onChange:function(e){return a(e)}}),Object(y.jsx)(O.a.Button,{onClick:function(e){return f()},children:Object(y.jsx)(x.g,{})})]}),Object(y.jsx)(C,{children:i.length>0&&i.map((function(e,t){return Object(y.jsx)(S,{children:0===t?Object(y.jsx)("b",{children:e}):e},t)}))})]})},k=h.b.div(r||(r=Object(i.a)(["\n  padding: 10px;\n  color: ",";\n  background-color: ",";\n  box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, 0.25);\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"])),(function(e){return e.theme.secondTextColor}),(function(e){return e.theme.mainColor})),C=h.b.div(c||(c=Object(i.a)(["\n  flex: 1 1 100%;\n  max-height: 200px;\n  overflow-y: scroll;\n  margin: 5px;\n"]))),S=h.b.div(a||(a=Object(i.a)(["\n  flex: 1 1 100%;\n  padding: 5px;\n  background-color: ",";\n  margin-bottom: 3px;\n"])),(function(e){return e.theme.secondColor})),N=n(191),A=n(11),E=n(192),B=n(193),P=function(e){return function(e){switch(e){case"spell":return Object(y.jsx)(x.t,{});case"item":return Object(y.jsx)(A.g,{});case"gear":return Object(y.jsx)(A.a,{});case"race":case"subrace":return Object(y.jsx)(A.t,{});case"class":case"subclass":case"classe":case"subclasse":return Object(y.jsx)(A.k,{});case"selection":return Object(y.jsx)(N.a,{});case"char":return Object(y.jsx)(x.n,{});case"monster":return Object(y.jsx)(x.h,{});case"encounter":return Object(y.jsx)(A.p,{});case"campaign":return Object(y.jsx)(A.d,{});case"quest":return Object(y.jsx)(A.o,{});case"note":return Object(y.jsx)(A.l,{});case"event":return Object(y.jsx)(E.a,{});case"world":return Object(y.jsx)(A.n,{});case"location":return Object(y.jsx)(x.s,{});case"npc":return Object(y.jsx)(A.i,{});case"randomTable":return Object(y.jsx)(x.z,{});case"book":return Object(y.jsx)(A.e,{});case"group":return Object(y.jsx)(B.a,{});case"feat":return Object(y.jsx)(A.b,{});case"background":return Object(y.jsx)(A.m,{});case"dice":return Object(y.jsx)(A.h,{});default:return Object(y.jsx)(y.Fragment,{})}}(e.type)},F=n(12),I=n.n(F),q=n(18),z=n(27),T=n(60),W=n(84),L=function(e){var t=e.entityName,n=e.name,r=e.sources,c=Object(m.useState)(),a=Object(u.a)(c,2),o=(a[0],a[1]),s=Object(z.c)(T.b),i=function(){var e=Object(q.a)(I.a.mark((function e(){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=void 0,void 0===r){e.next=7;break}return e.next=4,Object(W.p)(s,t,{name:n,sources:r});case 4:c=e.sent,e.next=10;break;case 7:return e.next=9,Object(W.o)(s,t,"name",n);case 9:c=e.sent;case 10:o(c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.useEffect)((function(){i()}),[]),Object(y.jsx)(y.Fragment,{})},G=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},D=function(e){return e.charAt(0).toUpperCase()},M=function(e){console.time("formatting");var t=H(e);return console.timeEnd("formatting"),t},H=function(e){var t=[],n=[],r=e.match(/(<[^>]*>)/gm);if(null!==r)for(n=J(e,r).sort((function(e,t){return e.start-t.start})),console.log(n);n.length>0;)t=[].concat(Object(l.a)(t),[U(e,n,(function(e){n=Object(l.a)(n).filter((function(t){return!e.includes(t)}))}))]);return t},U=function e(t,n,r){var c=n.shift();if(void 0!==c){var a=[c.start,c.stop],o=a[0],s=a[1],i=c.tag,u=c.endtag;if("<br>"===i){var d=i.replaceAll("<","").replaceAll("/","").replaceAll(">","");return Object(y.jsx)(d,{},o)}var f=t.substring(o+i.length,s-u.length),p=i.split(" "),b="";p.length>1&&p[1].startsWith("class=")&&(b=p[1].split("=")[1].replaceAll('"',"").replace(">",""));var j=p[0].replaceAll("<","").replaceAll("/","").replaceAll(">",""),h=Object(l.a)(n).filter((function(e){return o<e.start&&s>e.stop}));if(r(h),h.length>0){var m=0,x=[],O=Object(l.a)(h);h.forEach((function(n,c){var a=f.substring(m,n.start-o-i.length),s=Q(a);s=K(s),m=n.stop-o-i.length,x=[].concat(Object(l.a)(x),[s,e(t,O,r)])}));var v=f.substring(m,f.length),g=Q(v);return g=K(g),x=[].concat(Object(l.a)(x),[g]),Object(y.jsx)(j,{className:b,children:x},o)}var w=Q(f);return w=K(w),Object(y.jsx)(j,{className:b,children:w},o)}return Object(y.jsx)(y.Fragment,{})},J=function(e,t){var n=Object(l.a)(t),r=[],c=0;console.log(t);for(var a=function(){var t=n[c];if("<br>"===t){var a=0;r.forEach((function(e){e.tag===t&&e.start>=a&&(a=e.start+1)})),r.push({tag:t,endtag:t,start:e.indexOf(t,a),stop:e.indexOf(t,a)+t.length}),n.splice(c,1),c=0}else{var o=R(t);if(n[c+1]===o){var s=0,i=0;r.forEach((function(e){e.tag===t&&(e.start>=s&&(s=e.start+1),e.stop>i&&(i=e.stop+1))})),r.push({tag:t,endtag:o,start:e.indexOf(t,s),stop:e.indexOf(o,i)+o.length}),n.splice(c,2),c=0}else c++}};n.length>0;)a();return r},R=function(e){var t=e.split(" ");return t.length>1?t[0].replace("<","</")+">":t[0].replace("<","</")},K=function(e){return f()(e,/\[\[(\w*\.[\s\S]*?)\]\]/gm,(function(e,t){var n=e.split("."),r=n[0],c=n[1],a=c.split("|"),o=Object(u.a)(a,2),s=o[0],i=o[1];return"dice"===r?Object(y.jsx)(p.a,{preventOverflow:!0,trigger:["hover","click"],speaker:Object(y.jsx)(b.a,{full:!0,style:{width:200},children:Object(y.jsx)(w,{dice:c})}),placement:"auto",enterable:!0,children:Object(y.jsxs)(j.a,{size:"sm",color:"red",children:[Object(y.jsx)(P,{type:r})," ",c]})},e+t):("class"!==r&&"subclass"!==r||(r+="e"),Object(y.jsx)(p.a,{preventOverflow:!0,trigger:["hover","click"],speaker:Object(y.jsx)(b.a,{full:!0,style:{maxWidth:300},children:Object(y.jsx)(L,{entityName:r,name:s,sources:i})}),placement:"auto",enterable:!0,children:Object(y.jsxs)(j.a,{size:"sm",color:"red",children:[Object(y.jsx)(P,{type:r})," ",s,void 0!==i?" (".concat(i,")"):""]})},e+t))}))},Q=function(e){return f()(e,/\|\|tableStart\|\|([\s\S]*?)\|\|tableEnd\|\|/gm,(function(e,t){var n=e.split("||"),r=!0;return Object(y.jsx)("table",{children:Object(y.jsx)("tbody",{children:n.map((function(n,c){if(n.includes("|")){if(r){r=!1;var a=n.split("|");return Object(y.jsx)("tr",{children:a.map((function(e,t){return Object(y.jsx)($,{children:e},t)}))},e+t+c)}var o=n.split("|");return Object(y.jsx)("tr",{children:o.map((function(e,t){return Object(y.jsx)(_,{children:K(e)},t)}))},e+t+c)}return Object(y.jsx)(y.Fragment,{})}))},e+t)},e+t)}))},$=h.b.th(o||(o=Object(i.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 2px 5px 2px 5px;\n"])),(function(e){return e.theme.mainColor}),(function(e){return e.theme.textColor})),_=h.b.td(s||(s=Object(i.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n"])),(function(e){return e.theme.mainColor}),(function(e){return e.theme.textColor}))},170:function(e){e.exports=JSON.parse('{"id":0,"version":"0.0.1","name":"PnP","pic":"https://darthamun.github.io/DnDTome-pwa/static/media/logo192.21188df6.png","entities":[]}')},188:function(e){e.exports=JSON.parse('{"name":"pnptome","version":"0.0.1","private":true,"homepage":"https://darthamun.github.io/pnptome/","dependencies":{"@reduxjs/toolkit":"^1.8.0","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","@types/jest":"^26.0.15","@types/node":"^12.0.0","@types/react":"^16.9.53","@types/react-dom":"^16.9.8","@types/react-leaflet":"^2.8.2","@types/react-router":"^5.1.16","@types/react-router-dom":"^5.1.8","@types/styled-components":"^5.1.14","customize-cra":"^1.0.0","dexie":"^3.0.3","gh-pages":"^3.2.3","leaflet":"^1.7.1","less":"^4.1.1","less-loader":"^7.3.0","pdf-lib":"^1.16.0","peerjs":"^1.3.2","react":"^17.0.2","react-app-rewired":"^2.1.8","react-dom":"^17.0.2","react-flow-renderer":"^9.6.7","react-icons":"^4.2.0","react-quill":"^1.3.5","react-redux":"^7.2.6","react-router":"^5.2.1","react-router-dom":"^5.3.0","react-scripts":"4.0.3","react-string-replace":"^0.4.4","redux":"^4.1.2","rsuite":"^5.0.0","styled-components":"^5.3.1","typescript":"^4.0.3","workbox-background-sync":"^5.1.3","workbox-broadcast-update":"^5.1.3","workbox-cacheable-response":"^5.1.3","workbox-core":"^5.1.3","workbox-expiration":"^5.1.3","workbox-google-analytics":"^5.1.3","workbox-navigation-preload":"^5.1.3","workbox-precaching":"^5.1.3","workbox-range-requests":"^5.1.3","workbox-routing":"^5.1.3","workbox-strategies":"^5.1.3","workbox-streams":"^5.1.3"},"scripts":{"start":"react-app-rewired start","build":"react-app-rewired build","test":"react-app-rewired test","eject":"react-app-rewired eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/react-redux":"^7.1.23","@types/redux":"^3.6.0"}}')},246:function(e,t,n){},248:function(e,t,n){},400:function(e,t,n){"use strict";n.r(t);var r=n(30),c=n.n(r),a=(n(246),n(247),n(248),n(1)),o=n(25),s={mainColor:"#191D38",secondColor:"#272c4a",textColor:"white",secondTextColor:"lightslategray",highlight:"#F55C5C"},i={mainColor:"#191D38",secondColor:"#272c4a",textColor:"white",secondTextColor:"lightslategray",highlight:"#F55C5C"},u=n(13),l=n(3);var d,f,p,b,j,h,m,x,O,v,g,y,w=function(){var e=Object(a.createContext)(void 0);return[function(){var t=Object(a.useContext)(e);if(!t)throw new Error("useCtx must be inside a Provider with a value");return t},e.Provider]}(),k=Object(o.a)(w,2),C=(k[0],k[1]),S=function(e){var t=e.children,n=Object(a.useState)(s),r=Object(o.a)(n,2),c=r[0],d=r[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("theme");void 0!==e?"light"===e?(d(i),localStorage.setItem("theme","light")):(d(s),localStorage.setItem("theme","dark")):localStorage.setItem("theme","dark")}),[]),Object(l.jsx)(C,{value:{theme:c,setTheme:d},children:Object(l.jsx)(u.a,{theme:c,children:t})})},N=n(85),A=n(225),E=n(411),B=n(15),P=n(9),F=n(200),I=n(14),q=n.p+"static/media/logo192.21188df6.png",z=n(406),T=n(188),W=n(405),L=function(e){var t=e.children,n=e.onClick;return Object(l.jsx)(G,{onClick:n,children:Object(l.jsx)(W.a,{shaded:!0,children:t})})},G=u.b.div(d||(d=Object(B.a)(["\n  flex: 1 1;\n  cursor: pointer;\n  background-color: ",";\n  border-radius: 5px;\n  max-width: max-content;\n  white-space: nowrap;\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.mainColor}),(function(e){return e.theme.highlight})),D=u.b.div(f||(f=Object(B.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n"]))),M=u.b.div(p||(p=Object(B.a)(["\n  flex: 1 1 100%;\n  border-top: 1px solid var(--rs-border-primary);\n"]))),H=n(27),U=n(119),J=n(120),R=function(e){var t=e.show,n=Object(P.f)(),r=Object(H.c)((function(e){return e.system})),c=function(e){n.push(e),t(!1)};return Object(l.jsxs)(D,{children:[Object(l.jsxs)(L,{onClick:function(){return c("/home")},children:[Object(l.jsx)(I.l,{})," Home"]}),Object(l.jsx)(M,{}),r.entities.filter((function(e){return e.isMainEntity})).map((function(e,t){return Object(l.jsxs)(L,{onClick:function(){return c("/".concat(e.entityName,"-overview"))},children:[Object(U.a)(e.icon)," ",Object(J.a)(e.entityName)]},t)}))]})},K=n(11),Q=function(){var e=Object(P.f)(),t=Object(P.g)(),n=Object(H.c)((function(e){return e.system})),r=Object(a.useState)(!1),c=Object(o.a)(r,2),s=c[0],i=c[1];return Object(l.jsxs)($,{children:[Object(l.jsxs)(z.a,{size:"xs",open:s,onClose:function(){return i(!1)},placement:"right",children:[Object(l.jsxs)(z.a.Header,{children:[Object(l.jsx)(z.a.Title,{children:"Menu"}),Object(l.jsxs)(X,{children:["v",T.version]})]}),Object(l.jsx)(z.a.Body,{children:Object(l.jsx)(R,{show:i})})]}),Object(l.jsxs)(_,{children:[Object(l.jsx)(V,{src:q}),Object(l.jsxs)(Z,{children:[Object(l.jsx)(ee,{children:n.name}),"Tome"]})]}),Object(l.jsxs)(_,{right:!0,children:[Object(l.jsx)(Y,{active:"/systems"===t.pathname||t.pathname.includes("/system-detail"),onClick:function(){return e.push("/systems")},children:Object(l.jsx)(K.e,{})}),Object(l.jsx)(Y,{active:"/group"!==t.pathname&&"/options"!==t.pathname&&"/systems"!==t.pathname&&!t.pathname.includes("/system-detail"),onClick:function(){return i(!0)},children:Object(l.jsx)(F.a,{})}),Object(l.jsx)(Y,{active:"/group"===t.pathname,onClick:function(){return e.push("/group")},children:Object(l.jsx)(I.C,{})}),Object(l.jsx)(Y,{active:"/options"===t.pathname,onClick:function(){return e.push("/options")},children:Object(l.jsx)(I.e,{})})]})]})},$=u.b.div(b||(b=Object(B.a)(["\n  width: 100%;\n  height: 70px;\n  padding: 10px;\n  display: flex;\n  gap: 10px;\n  background-color: ",";\n  color: ",";\n"])),(function(e){return e.theme.secondColor}),(function(e){return e.theme.textColor})),_=u.b.div(j||(j=Object(B.a)(["\n  flex: 1 1;\n  font-size: 30px;\n  line-height: 50px;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  ","\n\n  ","\n"])),(function(e){return e.right?"justify-content: flex-end;text-align: right;min-width: 230px;":""}),(function(e){return e.reducable?"@media only screen and (max-width: 500px) {display: none;}":""})),V=u.b.img(h||(h=Object(B.a)(["\n  margin-top: 0px;\n  margin-right: 0px;\n  height: 50px;\n  border-radius: 50px;\n"]))),X=u.b.span(m||(m=Object(B.a)(["\n  line-height: 36px;\n"]))),Y=u.b.div(x||(x=Object(B.a)(["\n  flex: 1 1;\n  max-width: 70px;\n  height: 40px;\n  text-align: center;\n  cursor: pointer;\n\n  ","\n"])),(function(e){return e.active?"color: ".concat(e.theme.highlight):"color: ".concat(e.theme.textColor)})),Z=u.b.div(O||(O=Object(B.a)(["\n  @media only screen and (max-width: 500px) {\n    display: none;\n  }\n"]))),ee=u.b.span(v||(v=Object(B.a)(["\n  color: ",";\n"])),(function(e){return e.theme.highlight})),te=function(e){var t=e.children;return Object(l.jsxs)(ne,{children:[Object(l.jsx)(Q,{}),Object(l.jsx)(re,{children:t})]})},ne=u.b.div(g||(g=Object(B.a)(["\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n  background-color: ",";\n"])),(function(e){return e.theme.mainColor})),re=u.b.div(y||(y=Object(B.a)(["\n  width: calc(100% - 20px);\n  padding: 10px;\n"]))),ce=Object(a.lazy)((function(){return n.e(14).then(n.bind(null,545))})),ae=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(8),n.e(15)]).then(n.bind(null,557))})),oe=Object(a.lazy)((function(){return n.e(11).then(n.bind(null,564))})),se=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,552))})),ie=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(13)]).then(n.bind(null,553))})),ue=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(7),n.e(9)]).then(n.bind(null,556))})),le=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,555))})),de=function(){var e=Object(H.c)((function(e){return e.system}));return Object(l.jsx)(P.c,{children:function(){var t=[];return e&&(t.push(Object(l.jsx)(P.a,{exact:!0,path:"/",component:oe},"empty")),t.push(Object(l.jsx)(P.a,{exact:!0,path:"/group",component:ce},"group")),t.push(Object(l.jsx)(P.a,{exact:!0,path:"/options",component:ae},"options")),t.push(Object(l.jsx)(P.a,{exact:!0,path:"/systems",component:oe},"systems")),t.push(Object(l.jsx)(P.a,{exact:!0,path:"/system-detail/:id",component:se},"systemsdetail")),e.entities.forEach((function(e,n){t.push(Object(l.jsx)(P.a,{path:"/".concat(e.entityName,"-detail/:name"),component:function(t){return Object(l.jsx)(ie,{entityName:e.entityName,match:t})}},n+"detailname")),t.push(Object(l.jsx)(P.a,{path:"/".concat(e.entityName,"-detail/:id"),component:function(t){return Object(l.jsx)(ie,{entityName:e.entityName,match:t})}},n+"detailid")),t.push(Object(l.jsx)(P.a,{path:"/".concat(e.entityName,"-builder"),component:function(){return Object(l.jsx)(le,{entityName:e.entityName})}},n+"detailbuilder")),t.push(Object(l.jsx)(P.a,{path:"/".concat(e.entityName,"-overview"),component:function(){return Object(l.jsx)(ue,{entityName:e.entityName})}},n+"detailoverview"))}))),t}()})},fe=n(81),pe=n(60),be=Object(fe.a)({reducer:{system:pe.a}}),je=function(){return Object(l.jsx)(H.a,{store:be,children:Object(l.jsx)(A.a,{theme:"dark",children:Object(l.jsx)(S,{children:Object(l.jsx)(N.a,{children:Object(l.jsx)(te,{children:Object(l.jsx)(a.Suspense,{fallback:Object(l.jsx)(E.a,{center:!0,content:"Loading..."}),children:Object(l.jsx)(de,{})})})})})})})},he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(l.jsx)(je,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pnptome",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pnptome","/service-worker.js");he?(!function(e,t){fetch(e).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):me(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):me(t,e)}))}}()},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));var r=n(81),c=n(170),a=c,o=Object(r.b)({name:"system",initialState:a,reducers:{setSystem:function(e,t){return t.payload}}}),s=function(e){return"".concat(e.system.name.toLowerCase(),"-").concat(e.system.version)},i=o.actions.setSystem;t.a=o.reducer},84:function(e,t,n){"use strict";n.d(t,"i",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"t",(function(){return x})),n.d(t,"u",(function(){return O})),n.d(t,"s",(function(){return v})),n.d(t,"r",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"m",(function(){return w})),n.d(t,"q",(function(){return k})),n.d(t,"l",(function(){return C})),n.d(t,"g",(function(){return S})),n.d(t,"o",(function(){return N})),n.d(t,"p",(function(){return A})),n.d(t,"n",(function(){return E})),n.d(t,"j",(function(){return B})),n.d(t,"h",(function(){return F})),n.d(t,"k",(function(){return I})),n.d(t,"a",(function(){return q})),n.d(t,"b",(function(){return z})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return W}));n(61);var r=n(12),c=n.n(r),a=n(52),o=n(18),s=n(79),i=n(202),u=n(201),l=n(10),d=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this,"PnPTomeDB")).systems=void 0,e.encounters=void 0,e.books=void 0,e.randomTables=void 0,e.campaigns=void 0,e.quests=void 0,e.npcs=void 0,e.worlds=void 0,e.locations=void 0,e.events=void 0,e.groups=void 0,e.notes=void 0,e.version(1).stores({systems:"++id, name, version, pic, entities",encounters:"++id, [name+sources], name, enemies, players, isPlaying, currentInit, roundCounter, map, mapBase64, dimension",books:"++id, [name+sources], name, cover, data, pages, tags",randomTables:"++id, [name+sources], name, rows, header, filename",campaigns:"++id, [name+sources], name, pic, picBase64, description, world, npcs, notes, logs, players, flow, map, sources, filename",quests:"++id, [name+sources], name, pic, picBase64, description, rewards, followQuest, sources, filename",npcs:"++id, [name+sources], name, pic, picBase64, char, monster, traits, description, sources, filename",worlds:"++id, [name+sources], name, map, description, locations, events, sources, filename",locations:"++id, [name+sources], name, map, mapBase64, dimension, markers, sources, filename",events:"++id, [name+sources], name, description, date, sources, filename",groups:"++id, [name+sources], name, pic, picBase64, description, notes, npcs, players, monsters, flow, sources, filename",notes:"++id, [name+sources], name, text, sources, filename"}).upgrade((function(e){return e.table("spells").toCollection().modify((function(e){e.description=e.text,delete e.text,e.classes=e.classes.replaceAll(" ","").split(",")}))})),e.systems=e.table("systems"),e.encounters=e.table("encounters"),e.books=e.table("books"),e.randomTables=e.table("randomTables"),e.campaigns=e.table("campaigns"),e.quests=e.table("quests"),e.npcs=e.table("npcs"),e.worlds=e.table("worlds"),e.locations=e.table("locations"),e.events=e.table("events"),e.groups=e.table("groups"),e.notes=e.table("notes"),e}return n}(l.a),f=n(407),p=n(408),b=n(402),j=n(3),h=function(e,t,n){var r=new l.a(e);r.open().then((function(){r.table(t).orderBy("name").toArray().then((function(e){n(e)}))})).finally((function(){r.close()}))},m=function(e){console.log(e);var t=new d;t.open().then((function(){t.table("systems").delete(e.id).then((function(){f.a.push(Object(j.jsx)(p.a,{header:"Success",closable:!0,type:"success",children:"Deletion successfull!"}),{placement:"bottomStart"})}))})).finally((function(){t.close()}))},x=function(e){console.log(e);var t=new d;t.open().then((function(){t.table("systems").update(e.id,e).then((function(){f.a.push(Object(j.jsx)(p.a,{header:"Success",closable:!0,type:"success",children:"Overwrite successfull!"}),{placement:"bottomStart"})}))})).finally((function(){t.close()}))},O=function(e,t,n,r){var c=new l.a(e);c.open().then((function(){c.table(t).update(n.id,n).then((function(e){r(e)}))})).finally((function(){c.close()}))},v=function(e,t,n){var r=new l.a(e);r.open().then(Object(o.a)(c.a.mark((function e(){var o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.map((function(e){return delete e.id,Object(a.a)(Object(a.a)({},e),{},{filename:e.sources})})),e.prev=1,e.next=4,r.table(t).bulkPut(o);case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).finally((function(){r.close()}))},g=function(e,t,n){var r=new l.a(e);void 0!==n&&r.open().then((function(){r.table(t).delete(n)})).finally((function(){r.close()}))},y=function(e,t,n){var r=new l.a(e);r.open().then((function(){r.table(t).orderBy("name").toArray().then((function(e){n(e)}))})).finally((function(){r.close()}))},w=function(e,t,n){var r=new l.a(e);r.open().then((function(){r.table(t).count((function(e){n(e)}))})).finally((function(){r.close()}))},k=function(e,t,n){var r=new l.a(e);return r.open().then((function(){r.table("systems").get(t).then((function(e){n(e)}))})).finally((function(){r.close()}))},C=function(e,t,n,r,c){var a=new l.a(e);a.open().then((function(){a.table(t).where(n).equalsIgnoreCase(r).toArray().then((function(e){c(e[0])}))})).finally((function(){a.close()}))},S=function(e,t,n,r,c){var a=new l.a(e);a.open().then((function(){a.table(t).where(n).equalsIgnoreCase(r).toArray().then((function(e){c(e)}))})).finally((function(){a.close()}))},N=function(e,t,n,r){var a=new l.a(e);return a.open().then(Object(o.a)(c.a.mark((function e(){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.table(t).where(n).equalsIgnoreCase(r).toArray();case 2:return o=e.sent,e.abrupt("return",o[0]);case 4:case"end":return e.stop()}}),e)})))).finally((function(){a.close()}))},A=function(e,t,n){var r=new l.a(e);return void 0!==n.sources?r.open().then(Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.table(t).where(n).first();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).finally((function(){r.close()})):r.open().then(Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.table(t).where(n).first();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).finally((function(){r.close()}))},E=function(e,t,n){var r=new l.a(e);return r.open().then(Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.table(t).get(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).finally((function(){r.close()}))},B=function(e,t){var n=new l.a(e);return n.open().then(Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.table(t).orderBy("name").toArray();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).finally((function(){n.close()}))},P=function(e,t){var n=[];t.forEach((function(t){if("string"===typeof t.value)if(e[t.fieldName]instanceof Array){var r=!1;e[t.fieldName].forEach((function(e){e.toLowerCase().includes(t.value.toLowerCase())&&(r=!0)})),r?n.push(!0):n.push(!1)}else void 0!==e[t.fieldName]&&n.push(e[t.fieldName].toLowerCase().includes(t.value.toLowerCase()));else if("number"===typeof t.value)n.push(e[t.fieldName]===t.value);else if("boolean"===typeof t.value){"number"===typeof e[t.fieldName]?n.push(e[t.fieldName]===+t.value):n.push(e[t.fieldName]===t.value)}else if(t.value instanceof Array){var c=!1;t.value.forEach((function(n){"string"===typeof n?e[t.fieldName]instanceof Array?e[t.fieldName].forEach((function(e){e.toLowerCase()===n.toLowerCase()&&(c=!0)})):e[t.fieldName].toLowerCase()===n.toLowerCase()&&(c=!0):"number"===typeof n?e[t.fieldName]===n&&(c=!0):"boolean"===typeof n&&e[t.fieldName]===n&&(c=!0)})),n.push(c)}}));var r=!0;return n.forEach((function(e){e||(r=!1)})),r},F=function(e,t,n,r){var c=new l.a(e);c.open().then((function(){var e="name",a=!1;n.forEach((function(t){0!==t.sort&&(e=t.fieldName,2===t.sort&&(a=!0))})),a?c.table(t).filter((function(e){return P(e,n)})).reverse().sortBy(e).then((function(e){r(e)})):c.table(t).filter((function(e){return P(e,n)})).sortBy(e).then((function(e){r(e)}))})).finally((function(){c.close()}))},I=function(e,t,n,r){var c=new l.a(e);c.open().then((function(){c.table(t).orderBy(n).uniqueKeys((function(e){r(e)}))})).finally((function(){c.close()}))},q=function(e,t,n,r){var c=new l.a(e);c.open().then((function(){c.table(t).put(n).then((function(e){r(e)}))})).finally((function(){c.close()}))},z=function(e,t){console.log(e,t);var n=new l.a(e);n.open().then((function(){n.table(t).clear().then((function(){f.a.push(Object(j.jsxs)(p.a,{header:"Success",closable:!0,type:"success",children:["Deleted all ",t,"."]}),{placement:"bottomStart"})}))})).finally((function(){n.close()}))},T=function(e,t,n,r){var c=new l.a(e);c.open().then((function(){c.table(t).where(n).equals(r).delete().then((function(e){e>0?f.a.push(Object(j.jsxs)(p.a,{header:"Success",closable:!0,type:"success",children:["Deleted all ",Object(j.jsx)(b.a,{size:"lg",children:e})," ",t," where"," ",n," was equal to ",r,"."]}),{placement:"bottomStart"}):f.a.push(Object(j.jsxs)(p.a,{header:"Warning",closable:!0,type:"warning",children:["Found ",Object(j.jsx)(b.a,{size:"lg",children:e})," ",t," where"," ",n," was equal to ",r,"."]}),{placement:"bottomStart"})}))})).finally((function(){c.close()}))},W=function(e){new l.a(e).delete()}}},[[400,5,6]]]);
//# sourceMappingURL=main.ceb4943f.chunk.js.map