{"version":3,"file":"static/js/975.d5fc5611.chunk.js","mappings":"2ZAqHA,MArGA,WACE,IAAIA,GAAUC,EAAAA,EAAAA,MACd,GAAiCC,EAAAA,EAAAA,UAAmB,IAApD,eAAOC,EAAP,KAAgBC,EAAhB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAaC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAsBA,EAAMC,UAE3D,GAAkCR,EAAAA,EAAAA,UAChCS,KAAKC,UAAUC,EAAe,KAAM,IADtC,eAAOC,EAAP,KAAkBC,EAAlB,KAGA,GAAyCb,EAAAA,EAAAA,WAAkB,GAA3D,eAAOc,EAAP,KAAwBC,EAAxB,KAkCA,OAhCAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAmB,YAAa,WAAW,SAACC,GAC1ChB,EAAcgB,QAEf,KA6BD,iCACIJ,IACA,UAACK,EAAD,YACE,UAACC,EAAA,EAAD,CACEC,QAAM,EACNC,UAAQ,EACRC,UAAQ,EACRC,MAAO,CAAEC,QAAS,eAAgBC,MAAO,KAJ3C,WAME,gBAAKC,IAAKC,EAAMC,OAAO,SACvB,SAACT,EAAA,EAAD,CAAOU,OAAO,oBAAd,UACE,SAACC,EAAA,EAAD,CAAQC,QAAS,SAACC,GAAD,OAAOlB,GAAc,IAAtC,6BAGHd,EAAQiC,KAAI,SAAC1B,EAAgB2B,GAC5B,OACE,UAACf,EAAA,EAAD,CAEEC,QAAM,EACNC,UAAQ,EACRC,UAAQ,EACRC,MAAO,CAAEC,QAAS,eAAgBC,MAAO,KAL3C,WAOE,gBAAKC,IAAKnB,EAAO4B,IAAKP,OAAO,SAC7B,UAACQ,EAAD,CAAaP,OAAQtB,EAAO8B,KAAO,OAAS9B,EAAO+B,QAAnD,UACG/B,EAAOgC,KAAOnC,EAAWmC,IACxB,SAACC,EAAD,CAAaC,MAAM,iBAAnB,UACE,SAAC,MAAD,MAEA,MACJ,SAACX,EAAA,EAAD,CAAQC,QAAS,SAACC,GAAD,OA1Cd,SAACzB,GAClBmC,aAAaC,QAAQ,SAAUnC,KAAKC,UAAUF,IAC9CL,GAAS0C,EAAAA,EAAAA,IAAUrC,IAwCmBsC,CAAWtC,IAAnC,mBACA,SAACuB,EAAA,EAAD,CAAQC,QAAS,SAACC,GAAD,OAtCd,SAACzB,GAClBV,EAAQ,CACNiD,SAAS,kBAAD,OAAoBvC,EAAOgC,MAoCCQ,CAAWxC,IAAnC,uBAdG2B,SAqBdrB,IACC,iCACE,SAACmC,EAAA,EAAD,CACEC,GAAG,WACHC,KAAM,EACNC,YAAY,WACZC,MAAOzC,EACP0C,SAAU,SAACC,GAAD,OAAc1C,EAAa0C,OAEvC,SAACxB,EAAA,EAAD,CAAQC,QAAS,SAACC,GAAD,OA1EV,WACb,IAAIuB,GAAS,UAAQ/C,KAAKgD,MAAM7C,WACzB4C,EAAUhB,GACjBzB,GAAc,IACd2C,EAAAA,EAAAA,IAAgB,YAAa,UAAWF,GAAW,SAAChB,IAClDmB,EAAAA,EAAAA,IAAeH,GACfI,EAAAA,EAAAA,MACE,UAACC,EAAA,EAAD,CAAc/B,OAAQ,UAAWgC,KAAK,UAAtC,+CACqCN,EAAUlB,KAD/C,OAGA,CAAEyB,UAAW,mBAgEaC,IAAUxC,MAAO,CAAEyC,YAAa,QAAxD,mBAGA,SAAClC,EAAA,EAAD,CAAQC,QAAS,SAACC,GAAD,OAAOlB,GAAc,IAAtC,yBASJI,EAAY+C,EAAAA,GAAAA,IAAH,4EAMT7B,GAAc6B,EAAAA,EAAAA,IAAO9C,EAAAA,EAAP8C,CAAH,gLACK,qBAAGC,MAAkBC,eAChC,qBAAGD,MAAkBE,aAS1B5B,EAAcyB,EAAAA,GAAAA,IAAH,gMACN,qBAAGC,MAAkBG,aACV,qBAAGH,MAAkBI","sources":["components/pages/Systems.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button, Input, Panel, Notification, toaster } from \"rsuite\";\nimport styled from \"styled-components\";\nimport { setSystem, System } from \"../../database/SystemReducer\";\nimport {\n  createNewWithId,\n  reciveAllFromTable,\n} from \"../../services/DatabaseService\";\nimport DeafultSystem from \"../../System.json\";\nimport Logo from \"../../logo512.png\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { generateSystem } from \"../../services/SystemService\";\nimport { RootState } from \"../../database/Store\";\nimport { IoPulse } from \"react-icons/io5\";\n\nfunction Systems() {\n  let history = useNavigate();\n  const [systems, changeSystems] = useState<System[]>([]);\n  const dispatch = useDispatch();\n  const liveSystem = useSelector((state: RootState) => state.system);\n\n  const [newSystem, setNewSystem] = useState<string>(\n    JSON.stringify(DeafultSystem, null, 2)\n  );\n  const [newSystemDialog, showNewSystem] = useState<boolean>(false);\n\n  useEffect(() => {\n    reciveAllFromTable(\"PnPTomeDB\", \"systems\", (entries: any[]) => {\n      changeSystems(entries);\n    });\n  }, []);\n\n  const create = () => {\n    let newEntity = { ...JSON.parse(newSystem) };\n    delete newEntity.id;\n    showNewSystem(false);\n    createNewWithId(\"PnPTomeDB\", \"systems\", newEntity, (id: number) => {\n      generateSystem(newEntity);\n      toaster.push(\n        <Notification header={\"Success\"} type=\"success\">\n          Success: Created new system named {newEntity.name}.\n        </Notification>,\n        { placement: \"bottomStart\" }\n      );\n    });\n  };\n\n  const loadSystem = (system: System) => {\n    localStorage.setItem(\"system\", JSON.stringify(system));\n    dispatch(setSystem(system));\n  };\n\n  const editSystem = (system: System) => {\n    history({\n      pathname: `/system-detail/${system.id}`,\n    });\n  };\n\n  return (\n    <>\n      {!newSystemDialog && (\n        <CardGroup>\n          <Panel\n            shaded\n            bordered\n            bodyFill\n            style={{ display: \"inline-block\", width: 240 }}\n          >\n            <img src={Logo} height=\"240\" />\n            <Panel header=\"Make a new System\">\n              <Button onClick={(e) => showNewSystem(true)}>New System</Button>\n            </Panel>\n          </Panel>\n          {systems.map((system: System, index: number) => {\n            return (\n              <Panel\n                key={index}\n                shaded\n                bordered\n                bodyFill\n                style={{ display: \"inline-block\", width: 240 }}\n              >\n                <img src={system.pic} height=\"240\" />\n                <StyledPanel header={system.name + \" - v\" + system.version}>\n                  {system.id === liveSystem.id ? (\n                    <IconWrapper title=\"Currently used\">\n                      <IoPulse />\n                    </IconWrapper>\n                  ) : null}\n                  <Button onClick={(e) => loadSystem(system)}>Load</Button>\n                  <Button onClick={(e) => editSystem(system)}>Edit</Button>\n                </StyledPanel>\n              </Panel>\n            );\n          })}\n        </CardGroup>\n      )}\n      {newSystemDialog && (\n        <>\n          <Input\n            as=\"textarea\"\n            rows={3}\n            placeholder=\"Textarea\"\n            value={newSystem}\n            onChange={(val: any) => setNewSystem(val)}\n          />\n          <Button onClick={(e) => create()} style={{ marginRight: \"10px\" }}>\n            Save\n          </Button>\n          <Button onClick={(e) => showNewSystem(false)}>Back</Button>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default Systems;\n\nconst CardGroup = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n`;\n\nconst StyledPanel = styled(Panel)`\n  background-color: ${({ theme }) => theme.secondColor};\n  color: ${({ theme }) => theme.textColor};\n  & .rs-panel-body {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    gap: 10px;\n  }\n`;\n\nconst IconWrapper = styled.div`\n  color: ${({ theme }) => theme.highlight};\n  background-color: ${({ theme }) => theme.mainColor};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 30px;\n  height: 30px;\n  border-radius: 30px;\n`;\n"],"names":["history","useNavigate","useState","systems","changeSystems","dispatch","useDispatch","liveSystem","useSelector","state","system","JSON","stringify","DeafultSystem","newSystem","setNewSystem","newSystemDialog","showNewSystem","useEffect","reciveAllFromTable","entries","CardGroup","Panel","shaded","bordered","bodyFill","style","display","width","src","Logo","height","header","Button","onClick","e","map","index","pic","StyledPanel","name","version","id","IconWrapper","title","localStorage","setItem","setSystem","loadSystem","pathname","editSystem","Input","as","rows","placeholder","value","onChange","val","newEntity","parse","createNewWithId","generateSystem","toaster","Notification","type","placement","create","marginRight","styled","theme","secondColor","textColor","highlight","mainColor"],"sourceRoot":""}